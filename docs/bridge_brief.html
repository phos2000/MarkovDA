<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Astrid Yu, Ashley Leech">
<meta name="dcterms.date" content="2023-07-12">

<title>Hanxuan (Astrid) Yu - BRIDGE Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">BRIDGE Report</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Hanxuan (Astrid) Yu</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">About Me</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.dropbox.com/scl/fi/izravfw594wzi7wv3f7zo/Hanxuan-Yu-s-CV.docx?rlkey=qhl43x2xkfhqi3vvvnfy9egzl&amp;dl=0" class="sidebar-item-text sidebar-link">Curriculum Vitae</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Projects</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bridge_brief.html" class="sidebar-item-text sidebar-link active">BRIDGE Report</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CVD_DES_CRN_abstract.html" class="sidebar-item-text sidebar-link">CRNs in DES</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Labs</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./MarkovDA.html" class="sidebar-item-text sidebar-link">How to Create Markov Model using R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AddingMortality.html" class="sidebar-item-text sidebar-link">Add the Time-Varying Variable into Markov Model</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Links to other webs</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://smdm-europe23-what-they-didnt-teach.netlify.app/" class="sidebar-item-text sidebar-link">SMDM Europe Short Course (2023)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://vchem-vital-workshop-2022.netlify.app/" class="sidebar-item-text sidebar-link">Health Economics Modeling Workshop (2022)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://decision-analysis-2023.netlify.app/" class="sidebar-item-text sidebar-link">PUBH 5512 (2023)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#methods" id="toc-methods" class="nav-link active" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#participants" id="toc-participants" class="nav-link" data-scroll-target="#participants">Participants</a>
  <ul class="collapse">
  <li><a href="#drop-outs" id="toc-drop-outs" class="nav-link" data-scroll-target="#drop-outs">Drop-outs</a></li>
  <li><a href="#demographic" id="toc-demographic" class="nav-link" data-scroll-target="#demographic">demographic</a></li>
  <li><a href="#intervals" id="toc-intervals" class="nav-link" data-scroll-target="#intervals">intervals</a></li>
  </ul></li>
  <li><a href="#instruments" id="toc-instruments" class="nav-link" data-scroll-target="#instruments">Instruments</a>
  <ul class="collapse">
  <li><a href="#inclusion-criteria" id="toc-inclusion-criteria" class="nav-link" data-scroll-target="#inclusion-criteria">inclusion criteria</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#analysis-and-result-briefs" id="toc-analysis-and-result-briefs" class="nav-link" data-scroll-target="#analysis-and-result-briefs">Analysis and Result Briefs</a>
  <ul class="collapse">
  <li><a href="#qolieqolie-31-qolie-ad-48" id="toc-qolieqolie-31-qolie-ad-48" class="nav-link" data-scroll-target="#qolieqolie-31-qolie-ad-48">QOLIE(QOLIE-31 &amp; QOLIE-AD-48)</a>
  <ul class="collapse">
  <li><a href="#the-inclusion-criteria-of-qolie-records" id="toc-the-inclusion-criteria-of-qolie-records" class="nav-link" data-scroll-target="#the-inclusion-criteria-of-qolie-records">the Inclusion Criteria of QOLIE records</a></li>
  <li><a href="#missing-rate-for-qolie" id="toc-missing-rate-for-qolie" class="nav-link" data-scroll-target="#missing-rate-for-qolie">Missing Rate for QOLIE</a></li>
  <li><a href="#demographic-of-qolie-users" id="toc-demographic-of-qolie-users" class="nav-link" data-scroll-target="#demographic-of-qolie-users">Demographic of QOLIE users</a></li>
  <li><a href="#distribution-of-qolie-scores" id="toc-distribution-of-qolie-scores" class="nav-link" data-scroll-target="#distribution-of-qolie-scores">Distribution of QOLIE Scores</a></li>
  <li><a href="#exploratory-hypothesis-testing" id="toc-exploratory-hypothesis-testing" class="nav-link" data-scroll-target="#exploratory-hypothesis-testing">Exploratory Hypothesis Testing</a></li>
  </ul></li>
  <li><a href="#vas-1" id="toc-vas-1" class="nav-link" data-scroll-target="#vas-1">VAS</a>
  <ul class="collapse">
  <li><a href="#inclusion-criteria-1" id="toc-inclusion-criteria-1" class="nav-link" data-scroll-target="#inclusion-criteria-1">Inclusion Criteria</a></li>
  <li><a href="#demographic-1" id="toc-demographic-1" class="nav-link" data-scroll-target="#demographic-1">Demographic</a></li>
  <li><a href="#analysis-of-vas-over-time" id="toc-analysis-of-vas-over-time" class="nav-link" data-scroll-target="#analysis-of-vas-over-time">Analysis of VAS over time</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#comparison-between-vas-and-qolie" id="toc-comparison-between-vas-and-qolie" class="nav-link" data-scroll-target="#comparison-between-vas-and-qolie">Comparison between VAS and QOLIE</a></li>
  <li><a href="#cost" id="toc-cost" class="nav-link" data-scroll-target="#cost">Cost</a></li>
  <li><a href="#daly" id="toc-daly" class="nav-link" data-scroll-target="#daly">DALY</a>
  <ul class="collapse">
  <li><a href="#age-of-onset-of-disease" id="toc-age-of-onset-of-disease" class="nav-link" data-scroll-target="#age-of-onset-of-disease">age of onset of disease</a></li>
  <li><a href="#severity" id="toc-severity" class="nav-link" data-scroll-target="#severity">severity</a></li>
  <li><a href="#calculation-of-daly" id="toc-calculation-of-daly" class="nav-link" data-scroll-target="#calculation-of-daly">Calculation of DALY</a>
  <ul class="collapse">
  <li><a href="#previous" id="toc-previous" class="nav-link" data-scroll-target="#previous">Previous</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a>
  <ul class="collapse">
  <li><a href="#strengths" id="toc-strengths" class="nav-link" data-scroll-target="#strengths">Strengths</a></li>
  <li><a href="#weakness" id="toc-weakness" class="nav-link" data-scroll-target="#weakness">Weakness</a></li>
  <li><a href="#future-work" id="toc-future-work" class="nav-link" data-scroll-target="#future-work">Future work</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">BRIDGE Report</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Astrid Yu, Ashley Leech </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 12, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"~/Documents/GitHub/MarkovDA/data/with-drop-out.rda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="participants" class="level2">
<h2 class="anchored" data-anchor-id="participants">Participants</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fu <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(study_arm,record_id) <span class="sc">%&gt;%</span> <span class="fu">count</span>(study_arm) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   study_arm   n
1:       EUC 893
2:       TSC 899</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fu <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(reason <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(study_arm,record_id) <span class="sc">%&gt;%</span> <span class="fu">count</span>(study_arm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   study_arm   n
1:       EUC 719
2:       TSC 743</code></pre>
</div>
</div>
<section id="drop-outs" class="level3">
<h3 class="anchored" data-anchor-id="drop-outs">Drop-outs</h3>
<p>Drop-outs are participants that has been terminated for their own reasons: moving, unable to contact, refusing to join in and so on.</p>
<p>Although the drop-out rate is more than 10%, the result of our analysis donâ€™t have a evident difference. So we include the records of participants who have been terminated without completion.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fu <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(reason <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(study_arm,record_id) <span class="sc">%&gt;%</span> <span class="fu">count</span>(study_arm) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">drop_out =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fu <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(study_arm,record_id) <span class="sc">%&gt;%</span> <span class="fu">count</span>(study_arm)) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(drop_out<span class="sc">/</span>n)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"percent of drop-outs in 2 arms"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>percent of drop-outs in 2 arms</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:right;"> drop_out </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:right;"> 165 </td>
   <td style="text-align:left;"> 18.5% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:right;"> 136 </td>
   <td style="text-align:left;"> 15.1% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="demographic" class="level3">
<h3 class="anchored" data-anchor-id="demographic">demographic</h3>
<ul>
<li>gender</li>
<li>city</li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">=</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(gender)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id, gender, study_arm) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>gender <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender=</span><span class="fu">factor</span>(gender,<span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, gender) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Gender in 2 arms for all participants(including drop-outs)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Gender in 2 arms for all participants(including drop-outs)</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 319 </td>
   <td style="text-align:left;"> 36% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 573 </td>
   <td style="text-align:left;"> 64% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 320 </td>
   <td style="text-align:left;"> 36% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 579 </td>
   <td style="text-align:left;"> 64% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>location <span class="ot">=</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(city)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id, city, study_arm) </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>location <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, city) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"City in 2 arms for all participants(including drop-outs)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>City in 2 arms for all participants(including drop-outs)</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> city </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 210 </td>
   <td style="text-align:left;"> 23.5% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 443 </td>
   <td style="text-align:left;"> 49.6% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 240 </td>
   <td style="text-align:left;"> 26.9% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 234 </td>
   <td style="text-align:left;"> 26.0% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 449 </td>
   <td style="text-align:left;"> 49.9% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 216 </td>
   <td style="text-align:left;"> 24.0% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dob <span class="ot">=</span> fu <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">bd=</span><span class="fu">as_date</span>(dob)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(bd)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id,study_arm,bd)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(reason <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fu<span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(gender)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id, gender, study_arm)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender=</span><span class="fu">factor</span>(gender,<span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, gender) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Gender in 2 arms for completed participants"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Gender in 2 arms for completed participants</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 266 </td>
   <td style="text-align:left;"> 37% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 453 </td>
   <td style="text-align:left;"> 63% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 261 </td>
   <td style="text-align:left;"> 35% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 482 </td>
   <td style="text-align:left;"> 65% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(reason <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(city)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id, city, study_arm)) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, city) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"City in 2 arms for completed participants"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>City in 2 arms for completed participants</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> city </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 153 </td>
   <td style="text-align:left;"> 21.3% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 369 </td>
   <td style="text-align:left;"> 51.3% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 197 </td>
   <td style="text-align:left;"> 27.4% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 179 </td>
   <td style="text-align:left;"> 24.1% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 393 </td>
   <td style="text-align:left;"> 52.9% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 171 </td>
   <td style="text-align:left;"> 23.0% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="intervals" class="level3">
<h3 class="anchored" data-anchor-id="intervals">intervals</h3>
<p><strong>Expected schedule of follow-up visits</strong> Only the first follow-up needs to be +/- 3 days, all else allow +/- 14 days.<br>
<em>Schedule:</em><br>
* instance 1 - Week 1<br>
* instance 2 - Month 1<br>
* instance 3 - Month 2<br>
* instance 4 - Month 4<br>
* instance 5 - Month 6<br>
* instance 6 - Month 9<br>
* instance 7 - Month 12<br>
* instance 8 - Month 15<br>
* instance 9 - Month 18<br>
* instance 10 - Month 24<br>
<em>Expected time interval:</em><br>
* v1: 7 +/- 3 from v0<br>
* v2: 28 +/- 14 from v0<br>
* v3: 28 +/- 14 from v2<br>
* v4: 56 +/- 14 from v3<br>
* v5: 56 +/- 14 from v4<br>
* v6: 84 +/- 14 from v5<br>
* v7: 84 +/- 14 from v6<br>
* v8: 84 +/- 14 from v7<br>
* v9: 84 +/- 14 from v8<br>
* v10: 168 +/- 14 from v9</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>basedate <span class="ot">=</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(redcap_repeat_instrument<span class="sc">==</span><span class="st">"diag_enroll"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">datebaseline =</span> <span class="fu">as_date</span>(<span class="fu">ifelse</span>(ev0 <span class="sc">==</span> <span class="dv">1</span>, date_of_consent_screen, dateconsentenroll))) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(record_id, study_arm, ev0, datebaseline) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(dob, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"record_id"</span>, <span class="st">"study_arm"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(datebaseline <span class="sc">-</span> bd)<span class="sc">/</span><span class="fl">365.25</span>,<span class="dv">1</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>fudw <span class="ot">&lt;-</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(redcap_repeat_instrument<span class="sc">==</span><span class="st">"follow_up_care_form"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(record_id,study_arm,<span class="at">visit =</span> redcap_repeat_instance,datefu,<span class="at">age =</span> agefu) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date=</span><span class="fu">as_date</span>(datefu), <span class="at">visit=</span><span class="fu">as.numeric</span>(visit)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>datefu) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(basedate <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id,study_arm,<span class="at">date =</span> datebaseline,age) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit=</span><span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> visit,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="fu">c</span>(date,age)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>date_11, <span class="sc">-</span>age_11) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">d01=</span><span class="fu">as.integer</span>(date_1<span class="sc">-</span>date_0),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">d12=</span><span class="fu">as.integer</span>(date_2<span class="sc">-</span>date_1),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">d23=</span><span class="fu">as.integer</span>(date_3<span class="sc">-</span>date_2),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">d34=</span><span class="fu">as.integer</span>(date_4<span class="sc">-</span>date_3),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">d45=</span><span class="fu">as.integer</span>(date_5<span class="sc">-</span>date_4),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">d56=</span><span class="fu">as.integer</span>(date_6<span class="sc">-</span>date_5),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">d67=</span><span class="fu">as.integer</span>(date_7<span class="sc">-</span>date_6),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">d78=</span><span class="fu">as.integer</span>(date_8<span class="sc">-</span>date_7),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">d89=</span><span class="fu">as.integer</span>(date_9<span class="sc">-</span>date_8),</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">d90=</span><span class="fu">as.integer</span>(date_10<span class="sc">-</span>date_9))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fudw <span class="sc">%&gt;%</span> <span class="fu">filter</span>(study_arm<span class="sc">==</span><span class="st">"EUC"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"d"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>() <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"Range of intervals between follow up visits, EUC"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>Range of intervals between follow up visits, EUC</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:left;">      d01 </th>
   <th style="text-align:left;">      d12 </th>
   <th style="text-align:left;">      d23 </th>
   <th style="text-align:left;">      d34 </th>
   <th style="text-align:left;">      d45 </th>
   <th style="text-align:left;">      d56 </th>
   <th style="text-align:left;">      d67 </th>
   <th style="text-align:left;">      d78 </th>
   <th style="text-align:left;">      d89 </th>
   <th style="text-align:left;">      d90 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Min.   :-28.000 </td>
   <td style="text-align:left;"> Min.   :-40.00 </td>
   <td style="text-align:left;"> Min.   : 0.00 </td>
   <td style="text-align:left;"> Min.   :  0.00 </td>
   <td style="text-align:left;"> Min.   :-12.00 </td>
   <td style="text-align:left;"> Min.   :  0.00 </td>
   <td style="text-align:left;"> Min.   :  0.0 </td>
   <td style="text-align:left;"> Min.   : 40.00 </td>
   <td style="text-align:left;"> Min.   :  0.00 </td>
   <td style="text-align:left;"> Min.   : 13.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 1st Qu.:  7.000 </td>
   <td style="text-align:left;"> 1st Qu.: 21.00 </td>
   <td style="text-align:left;"> 1st Qu.:28.00 </td>
   <td style="text-align:left;"> 1st Qu.: 56.00 </td>
   <td style="text-align:left;"> 1st Qu.: 56.00 </td>
   <td style="text-align:left;"> 1st Qu.: 83.00 </td>
   <td style="text-align:left;"> 1st Qu.: 84.0 </td>
   <td style="text-align:left;"> 1st Qu.: 83.00 </td>
   <td style="text-align:left;"> 1st Qu.: 82.00 </td>
   <td style="text-align:left;"> 1st Qu.:167.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Median :  7.000 </td>
   <td style="text-align:left;"> Median : 21.00 </td>
   <td style="text-align:left;"> Median :28.00 </td>
   <td style="text-align:left;"> Median : 56.00 </td>
   <td style="text-align:left;"> Median : 56.00 </td>
   <td style="text-align:left;"> Median : 84.00 </td>
   <td style="text-align:left;"> Median : 84.0 </td>
   <td style="text-align:left;"> Median : 84.00 </td>
   <td style="text-align:left;"> Median : 84.00 </td>
   <td style="text-align:left;"> Median :168.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Mean   :  8.579 </td>
   <td style="text-align:left;"> Mean   : 22.09 </td>
   <td style="text-align:left;"> Mean   :28.49 </td>
   <td style="text-align:left;"> Mean   : 54.82 </td>
   <td style="text-align:left;"> Mean   : 55.51 </td>
   <td style="text-align:left;"> Mean   : 83.23 </td>
   <td style="text-align:left;"> Mean   : 84.3 </td>
   <td style="text-align:left;"> Mean   : 84.11 </td>
   <td style="text-align:left;"> Mean   : 82.89 </td>
   <td style="text-align:left;"> Mean   :168.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 3rd Qu.:  8.000 </td>
   <td style="text-align:left;"> 3rd Qu.: 21.00 </td>
   <td style="text-align:left;"> 3rd Qu.:28.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 56.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 56.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 84.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 85.0 </td>
   <td style="text-align:left;"> 3rd Qu.: 84.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 84.00 </td>
   <td style="text-align:left;"> 3rd Qu.:172.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Max.   :154.000 </td>
   <td style="text-align:left;"> Max.   :121.00 </td>
   <td style="text-align:left;"> Max.   :85.00 </td>
   <td style="text-align:left;"> Max.   :129.00 </td>
   <td style="text-align:left;"> Max.   :219.00 </td>
   <td style="text-align:left;"> Max.   :183.00 </td>
   <td style="text-align:left;"> Max.   :161.0 </td>
   <td style="text-align:left;"> Max.   :174.00 </td>
   <td style="text-align:left;"> Max.   :234.00 </td>
   <td style="text-align:left;"> Max.   :217.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> NA's   :9 </td>
   <td style="text-align:left;"> NA's   :18 </td>
   <td style="text-align:left;"> NA's   :33 </td>
   <td style="text-align:left;"> NA's   :49 </td>
   <td style="text-align:left;"> NA's   :78 </td>
   <td style="text-align:left;"> NA's   :104 </td>
   <td style="text-align:left;"> NA's   :117 </td>
   <td style="text-align:left;"> NA's   :126 </td>
   <td style="text-align:left;"> NA's   :142 </td>
   <td style="text-align:left;"> NA's   :156 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fudw <span class="sc">%&gt;%</span> <span class="fu">filter</span>(study_arm<span class="sc">==</span><span class="st">"TSC"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"d"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>() <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"Range of intervals between follow up visits, TSC"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>Range of intervals between follow up visits, TSC</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:left;">      d01 </th>
   <th style="text-align:left;">      d12 </th>
   <th style="text-align:left;">      d23 </th>
   <th style="text-align:left;">      d34 </th>
   <th style="text-align:left;">      d45 </th>
   <th style="text-align:left;">      d56 </th>
   <th style="text-align:left;">      d67 </th>
   <th style="text-align:left;">      d78 </th>
   <th style="text-align:left;">      d89 </th>
   <th style="text-align:left;">      d90 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Min.   :-307.000 </td>
   <td style="text-align:left;"> Min.   :-10.00 </td>
   <td style="text-align:left;"> Min.   :-56.00 </td>
   <td style="text-align:left;"> Min.   :-49.00 </td>
   <td style="text-align:left;"> Min.   : -7.00 </td>
   <td style="text-align:left;"> Min.   :-281.00 </td>
   <td style="text-align:left;"> Min.   : 11.00 </td>
   <td style="text-align:left;"> Min.   :  0.00 </td>
   <td style="text-align:left;"> Min.   :-650.00 </td>
   <td style="text-align:left;"> Min.   :-198.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 1st Qu.:   7.000 </td>
   <td style="text-align:left;"> 1st Qu.: 21.00 </td>
   <td style="text-align:left;"> 1st Qu.: 28.00 </td>
   <td style="text-align:left;"> 1st Qu.: 56.00 </td>
   <td style="text-align:left;"> 1st Qu.: 56.00 </td>
   <td style="text-align:left;"> 1st Qu.:  84.00 </td>
   <td style="text-align:left;"> 1st Qu.: 84.00 </td>
   <td style="text-align:left;"> 1st Qu.: 84.00 </td>
   <td style="text-align:left;"> 1st Qu.:  82.00 </td>
   <td style="text-align:left;"> 1st Qu.: 167.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Median :   7.000 </td>
   <td style="text-align:left;"> Median : 21.00 </td>
   <td style="text-align:left;"> Median : 28.00 </td>
   <td style="text-align:left;"> Median : 56.00 </td>
   <td style="text-align:left;"> Median : 56.00 </td>
   <td style="text-align:left;"> Median :  84.00 </td>
   <td style="text-align:left;"> Median : 84.00 </td>
   <td style="text-align:left;"> Median : 84.00 </td>
   <td style="text-align:left;"> Median :  84.00 </td>
   <td style="text-align:left;"> Median : 168.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Mean   :   7.656 </td>
   <td style="text-align:left;"> Mean   : 22.93 </td>
   <td style="text-align:left;"> Mean   : 29.25 </td>
   <td style="text-align:left;"> Mean   : 54.34 </td>
   <td style="text-align:left;"> Mean   : 55.48 </td>
   <td style="text-align:left;"> Mean   :  83.19 </td>
   <td style="text-align:left;"> Mean   : 84.45 </td>
   <td style="text-align:left;"> Mean   : 83.78 </td>
   <td style="text-align:left;"> Mean   :  83.08 </td>
   <td style="text-align:left;"> Mean   : 169.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 3rd Qu.:   8.000 </td>
   <td style="text-align:left;"> 3rd Qu.: 23.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 28.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 56.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 56.00 </td>
   <td style="text-align:left;"> 3rd Qu.:  84.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 84.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 84.00 </td>
   <td style="text-align:left;"> 3rd Qu.:  84.00 </td>
   <td style="text-align:left;"> 3rd Qu.: 171.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> Max.   : 103.000 </td>
   <td style="text-align:left;"> Max.   :153.00 </td>
   <td style="text-align:left;"> Max.   :169.00 </td>
   <td style="text-align:left;"> Max.   :167.00 </td>
   <td style="text-align:left;"> Max.   :112.00 </td>
   <td style="text-align:left;"> Max.   : 157.00 </td>
   <td style="text-align:left;"> Max.   :448.00 </td>
   <td style="text-align:left;"> Max.   :168.00 </td>
   <td style="text-align:left;"> Max.   : 445.00 </td>
   <td style="text-align:left;"> Max.   : 901.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> NA's   :28 </td>
   <td style="text-align:left;"> NA's   :39 </td>
   <td style="text-align:left;"> NA's   :55 </td>
   <td style="text-align:left;"> NA's   :68 </td>
   <td style="text-align:left;"> NA's   :80 </td>
   <td style="text-align:left;"> NA's   :91 </td>
   <td style="text-align:left;"> NA's   :105 </td>
   <td style="text-align:left;"> NA's   :109 </td>
   <td style="text-align:left;"> NA's   :117 </td>
   <td style="text-align:left;"> NA's   :135 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pf <span class="ot">&lt;-</span> <span class="cf">function</span>(v,m,t) {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  vv <span class="ot">&lt;-</span> <span class="fu">enquo</span>(v)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  m1 <span class="ot">&lt;-</span> fudw <span class="sc">%&gt;%</span> <span class="fu">pull</span>(<span class="sc">!!</span>vv) <span class="sc">%&gt;%</span> <span class="fu">min</span>(<span class="at">na.rm =</span> T)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  m2 <span class="ot">&lt;-</span> fudw <span class="sc">%&gt;%</span> <span class="fu">pull</span>(<span class="sc">!!</span>vv) <span class="sc">%&gt;%</span> <span class="fu">max</span>(<span class="at">na.rm =</span> T)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> fudw <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>study_arm,<span class="at">y=</span><span class="sc">!!</span>vv)) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(m1,<span class="sc">-</span><span class="dv">100</span>,<span class="dv">0</span>,m,<span class="dv">100</span>,m2))  <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(t)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(p)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d01,<span class="dv">7</span>,<span class="st">"Baseline-FU1: expected 1 week"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d12,<span class="dv">21</span>,<span class="st">"FU1-FU2: expected 3 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d23,<span class="dv">28</span>,<span class="st">"FU2-FU3: expected 4 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d34,<span class="dv">56</span>,<span class="st">"FU3-FU4: expected 8 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d45,<span class="dv">56</span>,<span class="st">"FU4-FU5: expected 8 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d56,<span class="dv">84</span>,<span class="st">"FU5-FU6: expected 12 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d67,<span class="dv">84</span>,<span class="st">"FU6-FU7: expected 12 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-7.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pf</span>(d78,<span class="dv">84</span>,<span class="st">"FU7-FU8: expected 12 weeks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/interval-8.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="instruments" class="level2">
<h2 class="anchored" data-anchor-id="instruments">Instruments</h2>
<ul>
<li>VAS
<ul>
<li>For all ages, for all follow up visits</li>
</ul></li>
<li>QOLIE
<ul>
<li><p>QOLIE-AD-48: for 11 &lt; age &lt; 17</p></li>
<li><p>QOLIE-31: for age &gt; 17</p></li>
<li><p>3 times totally, should be screening(month 0), month 2, month 24.</p></li>
<li><p><strong>Question 16 and 18 (Cramer, 1999) in QOLIE-AD-48</strong> are missing and then ignored from the survey.</p></li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="do">####score qolie 31####</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>score_q31 <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  d1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#seizure worry</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, sw1),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, sw1),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, sw1),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, sw1),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw1=</span><span class="fu">ifelse</span>(q11<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,sw1),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw2=</span><span class="fu">ifelse</span>(q21<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw2=</span><span class="fu">ifelse</span>(q21<span class="sc">==</span><span class="dv">2</span>,<span class="fl">33.3</span>,sw2),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw2=</span><span class="fu">ifelse</span>(q21<span class="sc">==</span><span class="dv">3</span>,<span class="fl">66.7</span>,sw2),</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw2=</span><span class="fu">ifelse</span>(q21<span class="sc">==</span><span class="dv">4</span>,<span class="dv">100</span>, sw2),</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw3=</span><span class="fu">ifelse</span>(q22<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw3=</span><span class="fu">ifelse</span>(q22<span class="sc">==</span><span class="dv">2</span>,<span class="dv">50</span>, sw3),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw3=</span><span class="fu">ifelse</span>(q22<span class="sc">==</span><span class="dv">3</span>,<span class="dv">100</span>,sw3),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw4=</span><span class="fu">ifelse</span>(q23<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw4=</span><span class="fu">ifelse</span>(q23<span class="sc">==</span><span class="dv">2</span>,<span class="fl">33.3</span>,sw4),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw4=</span><span class="fu">ifelse</span>(q23<span class="sc">==</span><span class="dv">3</span>,<span class="fl">66.7</span>,sw4),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw4=</span><span class="fu">ifelse</span>(q23<span class="sc">==</span><span class="dv">4</span>,<span class="dv">100</span>, sw4),</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw5=</span><span class="fu">ifelse</span>(q25<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw5=</span><span class="fu">ifelse</span>(q25<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,sw5),</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw5=</span><span class="fu">ifelse</span>(q25<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,sw5),</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw5=</span><span class="fu">ifelse</span>(q25<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,sw5),</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">sw5=</span><span class="fu">ifelse</span>(q25<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, sw5)</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#overall quality of life</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql1=</span>q1<span class="sc">*</span><span class="dv">10</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql2=</span><span class="fu">ifelse</span>(q14<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql2=</span><span class="fu">ifelse</span>(q14<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,ql2),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql2=</span><span class="fu">ifelse</span>(q14<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,ql2),</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql2=</span><span class="fu">ifelse</span>(q14<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,ql2),</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">ql2=</span><span class="fu">ifelse</span>(q14<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, ql2)</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">#emotional well-being</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, ew1),</span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, ew1),</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, ew1),</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, ew1),</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew1=</span><span class="fu">ifelse</span>(q3<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,ew1),</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, ew2),</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, ew2),</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, ew2),</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, ew2),</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew2=</span><span class="fu">ifelse</span>(q4<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,ew2),</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">2</span>,<span class="dv">80</span>,ew3),</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">3</span>,<span class="dv">60</span>,ew3),</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">4</span>,<span class="dv">40</span>,ew3),</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">5</span>,<span class="dv">20</span>,ew3),</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew3=</span><span class="fu">ifelse</span>(q5<span class="sc">==</span><span class="dv">6</span>,<span class="dv">0</span>, ew3),</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, ew4),</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, ew4),</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, ew4),</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, ew4),</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew4=</span><span class="fu">ifelse</span>(q7<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,ew4),</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">2</span>,<span class="dv">80</span>,ew5),</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">3</span>,<span class="dv">60</span>,ew5),</span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">4</span>,<span class="dv">40</span>,ew5),</span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">5</span>,<span class="dv">20</span>,ew5),</span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">ew5=</span><span class="fu">ifelse</span>(q9<span class="sc">==</span><span class="dv">6</span>,<span class="dv">0</span>, ew5),</span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a>    <span class="co">#energy/fatigue</span></span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">2</span>,<span class="dv">80</span>,ef1),</span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">3</span>,<span class="dv">60</span>,ef1),</span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">4</span>,<span class="dv">40</span>,ef1),</span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">5</span>,<span class="dv">20</span>,ef1),</span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef1=</span><span class="fu">ifelse</span>(q2<span class="sc">==</span><span class="dv">6</span>,<span class="dv">0</span>, ef1),</span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">2</span>,<span class="dv">80</span>,ef2),</span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">3</span>,<span class="dv">60</span>,ef2),</span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">4</span>,<span class="dv">40</span>,ef2),</span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">5</span>,<span class="dv">20</span>,ef2),</span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef2=</span><span class="fu">ifelse</span>(q6<span class="sc">==</span><span class="dv">6</span>,<span class="dv">0</span>, ef2),</span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, ef3),</span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, ef3),</span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, ef3),</span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, ef3),</span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef3=</span><span class="fu">ifelse</span>(q8<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,ef3),</span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-100"><a href="#cb22-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-101"><a href="#cb22-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, ef4),</span>
<span id="cb22-102"><a href="#cb22-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, ef4),</span>
<span id="cb22-103"><a href="#cb22-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, ef4),</span>
<span id="cb22-104"><a href="#cb22-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, ef4),</span>
<span id="cb22-105"><a href="#cb22-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">ef4=</span><span class="fu">ifelse</span>(q10<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,ef4),</span>
<span id="cb22-106"><a href="#cb22-106" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-107"><a href="#cb22-107" aria-hidden="true" tabindex="-1"></a>    <span class="co">#cognitive</span></span>
<span id="cb22-108"><a href="#cb22-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-109"><a href="#cb22-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, cg1),</span>
<span id="cb22-110"><a href="#cb22-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, cg1),</span>
<span id="cb22-111"><a href="#cb22-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, cg1),</span>
<span id="cb22-112"><a href="#cb22-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, cg1),</span>
<span id="cb22-113"><a href="#cb22-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg1=</span><span class="fu">ifelse</span>(q12<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,cg1),</span>
<span id="cb22-114"><a href="#cb22-114" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-115"><a href="#cb22-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg2=</span><span class="fu">ifelse</span>(q15<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-116"><a href="#cb22-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg2=</span><span class="fu">ifelse</span>(q15<span class="sc">==</span><span class="dv">2</span>,<span class="fl">33.3</span>,cg2),</span>
<span id="cb22-117"><a href="#cb22-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg2=</span><span class="fu">ifelse</span>(q15<span class="sc">==</span><span class="dv">3</span>,<span class="fl">66.7</span>,cg2),</span>
<span id="cb22-118"><a href="#cb22-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg2=</span><span class="fu">ifelse</span>(q15<span class="sc">==</span><span class="dv">4</span>,<span class="dv">100</span>, cg2),</span>
<span id="cb22-119"><a href="#cb22-119" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-120"><a href="#cb22-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-121"><a href="#cb22-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, cg3),</span>
<span id="cb22-122"><a href="#cb22-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, cg3),</span>
<span id="cb22-123"><a href="#cb22-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, cg3),</span>
<span id="cb22-124"><a href="#cb22-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, cg3),</span>
<span id="cb22-125"><a href="#cb22-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg3=</span><span class="fu">ifelse</span>(q16<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,cg3),</span>
<span id="cb22-126"><a href="#cb22-126" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-127"><a href="#cb22-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-128"><a href="#cb22-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, cg4),</span>
<span id="cb22-129"><a href="#cb22-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, cg4),</span>
<span id="cb22-130"><a href="#cb22-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, cg4),</span>
<span id="cb22-131"><a href="#cb22-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, cg4),</span>
<span id="cb22-132"><a href="#cb22-132" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg4=</span><span class="fu">ifelse</span>(q17<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,cg4),</span>
<span id="cb22-133"><a href="#cb22-133" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-134"><a href="#cb22-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-135"><a href="#cb22-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, cg5),</span>
<span id="cb22-136"><a href="#cb22-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, cg5),</span>
<span id="cb22-137"><a href="#cb22-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, cg5),</span>
<span id="cb22-138"><a href="#cb22-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, cg5),</span>
<span id="cb22-139"><a href="#cb22-139" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg5=</span><span class="fu">ifelse</span>(q18<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,cg5),</span>
<span id="cb22-140"><a href="#cb22-140" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-141"><a href="#cb22-141" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg6=</span><span class="fu">ifelse</span>(q26<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-142"><a href="#cb22-142" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg6=</span><span class="fu">ifelse</span>(q26<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,cg6),</span>
<span id="cb22-143"><a href="#cb22-143" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg6=</span><span class="fu">ifelse</span>(q26<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,cg6),</span>
<span id="cb22-144"><a href="#cb22-144" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg6=</span><span class="fu">ifelse</span>(q26<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,cg6),</span>
<span id="cb22-145"><a href="#cb22-145" aria-hidden="true" tabindex="-1"></a>    <span class="at">cg6=</span><span class="fu">ifelse</span>(q26<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, cg6)</span>
<span id="cb22-146"><a href="#cb22-146" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-147"><a href="#cb22-147" aria-hidden="true" tabindex="-1"></a>    <span class="co">#medication effects</span></span>
<span id="cb22-148"><a href="#cb22-148" aria-hidden="true" tabindex="-1"></a>    <span class="at">me1=</span><span class="fu">ifelse</span>(q24<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-149"><a href="#cb22-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">me1=</span><span class="fu">ifelse</span>(q24<span class="sc">==</span><span class="dv">2</span>,<span class="fl">33.3</span>,me1),</span>
<span id="cb22-150"><a href="#cb22-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">me1=</span><span class="fu">ifelse</span>(q24<span class="sc">==</span><span class="dv">3</span>,<span class="fl">66.7</span>,me1),</span>
<span id="cb22-151"><a href="#cb22-151" aria-hidden="true" tabindex="-1"></a>    <span class="at">me1=</span><span class="fu">ifelse</span>(q24<span class="sc">==</span><span class="dv">4</span>,<span class="dv">100</span>, me1),</span>
<span id="cb22-152"><a href="#cb22-152" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-153"><a href="#cb22-153" aria-hidden="true" tabindex="-1"></a>    <span class="at">me2=</span><span class="fu">ifelse</span>(q29<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-154"><a href="#cb22-154" aria-hidden="true" tabindex="-1"></a>    <span class="at">me2=</span><span class="fu">ifelse</span>(q29<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,me2),</span>
<span id="cb22-155"><a href="#cb22-155" aria-hidden="true" tabindex="-1"></a>    <span class="at">me2=</span><span class="fu">ifelse</span>(q29<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,me2),</span>
<span id="cb22-156"><a href="#cb22-156" aria-hidden="true" tabindex="-1"></a>    <span class="at">me2=</span><span class="fu">ifelse</span>(q29<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,me2),</span>
<span id="cb22-157"><a href="#cb22-157" aria-hidden="true" tabindex="-1"></a>    <span class="at">me2=</span><span class="fu">ifelse</span>(q29<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, me2),</span>
<span id="cb22-158"><a href="#cb22-158" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-159"><a href="#cb22-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">me3=</span><span class="fu">ifelse</span>(q30<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-160"><a href="#cb22-160" aria-hidden="true" tabindex="-1"></a>    <span class="at">me3=</span><span class="fu">ifelse</span>(q30<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,me3),</span>
<span id="cb22-161"><a href="#cb22-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">me3=</span><span class="fu">ifelse</span>(q30<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,me3),</span>
<span id="cb22-162"><a href="#cb22-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">me3=</span><span class="fu">ifelse</span>(q30<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,me3),</span>
<span id="cb22-163"><a href="#cb22-163" aria-hidden="true" tabindex="-1"></a>    <span class="at">me3=</span><span class="fu">ifelse</span>(q30<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, me3)</span>
<span id="cb22-164"><a href="#cb22-164" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb22-165"><a href="#cb22-165" aria-hidden="true" tabindex="-1"></a>    <span class="co">#social function</span></span>
<span id="cb22-166"><a href="#cb22-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-167"><a href="#cb22-167" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">2</span>,<span class="dv">20</span>, sf1),</span>
<span id="cb22-168"><a href="#cb22-168" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">3</span>,<span class="dv">40</span>, sf1),</span>
<span id="cb22-169"><a href="#cb22-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">4</span>,<span class="dv">60</span>, sf1),</span>
<span id="cb22-170"><a href="#cb22-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">5</span>,<span class="dv">80</span>, sf1),</span>
<span id="cb22-171"><a href="#cb22-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf1=</span><span class="fu">ifelse</span>(q13<span class="sc">==</span><span class="dv">6</span>,<span class="dv">100</span>,sf1),</span>
<span id="cb22-172"><a href="#cb22-172" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-173"><a href="#cb22-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf2=</span><span class="fu">ifelse</span>(q19<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-174"><a href="#cb22-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf2=</span><span class="fu">ifelse</span>(q19<span class="sc">==</span><span class="dv">2</span>,<span class="dv">25</span>, sf2),</span>
<span id="cb22-175"><a href="#cb22-175" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf2=</span><span class="fu">ifelse</span>(q19<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>, sf2),</span>
<span id="cb22-176"><a href="#cb22-176" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf2=</span><span class="fu">ifelse</span>(q19<span class="sc">==</span><span class="dv">4</span>,<span class="dv">75</span>, sf2),</span>
<span id="cb22-177"><a href="#cb22-177" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf2=</span><span class="fu">ifelse</span>(q19<span class="sc">==</span><span class="dv">5</span>,<span class="dv">100</span>,sf2),</span>
<span id="cb22-178"><a href="#cb22-178" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-179"><a href="#cb22-179" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf3=</span><span class="fu">ifelse</span>(q20<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb22-180"><a href="#cb22-180" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf3=</span><span class="fu">ifelse</span>(q20<span class="sc">==</span><span class="dv">2</span>,<span class="dv">25</span>, sf3),</span>
<span id="cb22-181"><a href="#cb22-181" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf3=</span><span class="fu">ifelse</span>(q20<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>, sf3),</span>
<span id="cb22-182"><a href="#cb22-182" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf3=</span><span class="fu">ifelse</span>(q20<span class="sc">==</span><span class="dv">4</span>,<span class="dv">75</span>, sf3),</span>
<span id="cb22-183"><a href="#cb22-183" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf3=</span><span class="fu">ifelse</span>(q20<span class="sc">==</span><span class="dv">5</span>,<span class="dv">100</span>,sf3),</span>
<span id="cb22-184"><a href="#cb22-184" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-185"><a href="#cb22-185" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf4=</span><span class="fu">ifelse</span>(q27<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-186"><a href="#cb22-186" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf4=</span><span class="fu">ifelse</span>(q27<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,sf4),</span>
<span id="cb22-187"><a href="#cb22-187" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf4=</span><span class="fu">ifelse</span>(q27<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,sf4),</span>
<span id="cb22-188"><a href="#cb22-188" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf4=</span><span class="fu">ifelse</span>(q27<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,sf4),</span>
<span id="cb22-189"><a href="#cb22-189" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf4=</span><span class="fu">ifelse</span>(q27<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, sf4),</span>
<span id="cb22-190"><a href="#cb22-190" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-191"><a href="#cb22-191" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf5=</span><span class="fu">ifelse</span>(q28<span class="sc">==</span><span class="dv">1</span>,<span class="dv">100</span>,<span class="cn">NA</span>),</span>
<span id="cb22-192"><a href="#cb22-192" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf5=</span><span class="fu">ifelse</span>(q28<span class="sc">==</span><span class="dv">2</span>,<span class="dv">75</span>,sf5),</span>
<span id="cb22-193"><a href="#cb22-193" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf5=</span><span class="fu">ifelse</span>(q28<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>,sf5),</span>
<span id="cb22-194"><a href="#cb22-194" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf5=</span><span class="fu">ifelse</span>(q28<span class="sc">==</span><span class="dv">4</span>,<span class="dv">25</span>,sf5),</span>
<span id="cb22-195"><a href="#cb22-195" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf5=</span><span class="fu">ifelse</span>(q28<span class="sc">==</span><span class="dv">5</span>,<span class="dv">0</span>, sf5)</span>
<span id="cb22-196"><a href="#cb22-196" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-197"><a href="#cb22-197" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-198"><a href="#cb22-198" aria-hidden="true" tabindex="-1"></a>  <span class="co">#summarise: what to do with missing item? currently averaging by domain</span></span>
<span id="cb22-199"><a href="#cb22-199" aria-hidden="true" tabindex="-1"></a>  d1 <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-200"><a href="#cb22-200" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">sum_sw=</span><span class="fu">mean</span>(<span class="fu">c</span>(sw1,sw2,sw3,sw4,sw5),<span class="at">na.rm =</span> T),</span>
<span id="cb22-201"><a href="#cb22-201" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_ql=</span><span class="fu">mean</span>(<span class="fu">c</span>(ql1,ql2),<span class="at">na.rm =</span> T),</span>
<span id="cb22-202"><a href="#cb22-202" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_ew=</span><span class="fu">mean</span>(<span class="fu">c</span>(ew1,ew2,ew3,ew4,ew5),<span class="at">na.rm =</span> T),</span>
<span id="cb22-203"><a href="#cb22-203" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_ef=</span><span class="fu">mean</span>(<span class="fu">c</span>(ef1,ef2,ef3,ef4),<span class="at">na.rm =</span> T),</span>
<span id="cb22-204"><a href="#cb22-204" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_cg=</span><span class="fu">mean</span>(<span class="fu">c</span>(cg1,cg2,cg3,cg4,cg5,cg6),<span class="at">na.rm =</span> T),</span>
<span id="cb22-205"><a href="#cb22-205" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_me=</span><span class="fu">mean</span>(<span class="fu">c</span>(me1,me2,me3),<span class="at">na.rm =</span> T),</span>
<span id="cb22-206"><a href="#cb22-206" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_sf=</span><span class="fu">mean</span>(<span class="fu">c</span>(sf1,sf2,sf3,sf4,sf5),<span class="at">na.rm =</span> T)</span>
<span id="cb22-207"><a href="#cb22-207" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-208"><a href="#cb22-208" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">overall=</span>sum_sw<span class="sc">*</span><span class="fl">0.08</span><span class="sc">+</span>sum_ql<span class="sc">*</span><span class="fl">0.14</span><span class="sc">+</span>sum_ew<span class="sc">*</span><span class="fl">0.15</span><span class="sc">+</span>sum_ef<span class="sc">*</span><span class="fl">0.12</span><span class="sc">+</span></span>
<span id="cb22-209"><a href="#cb22-209" aria-hidden="true" tabindex="-1"></a>             sum_cg<span class="sc">*</span><span class="fl">0.27</span><span class="sc">+</span>sum_me<span class="sc">*</span><span class="fl">0.03</span><span class="sc">+</span>sum_sf<span class="sc">*</span><span class="fl">0.21</span>)</span>
<span id="cb22-210"><a href="#cb22-210" aria-hidden="true" tabindex="-1"></a>  <span class="co">#what if missing one domain?</span></span>
<span id="cb22-211"><a href="#cb22-211" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return(d2)</span></span>
<span id="cb22-212"><a href="#cb22-212" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># score for questions that have 5-point</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sc5 <span class="ot">&lt;-</span> <span class="cf">function</span>(dt,vf,vt) {</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  v1 <span class="ot">&lt;-</span> vf</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  v1 <span class="ot">&lt;-</span> <span class="fu">ensym</span>(v1)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  dd <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!!</span>v1) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">2</span>,<span class="dv">25</span>, v),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">3</span>,<span class="dv">50</span>, v),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">4</span>,<span class="dv">75</span>, v),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">5</span>,<span class="dv">100</span>,v)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-!!</span>v1)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(dd) <span class="ot">&lt;-</span> vt</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dd)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co">#score for questions that have 4-point</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>sc4 <span class="ot">&lt;-</span> <span class="cf">function</span>(dt,vf,vt) {</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  v1 <span class="ot">&lt;-</span> vf</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  v1 <span class="ot">&lt;-</span> <span class="fu">ensym</span>(v1)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  dd <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!!</span>v1) <span class="sc">%&gt;%</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>),</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">2</span>,<span class="fl">33.3</span>, v),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">3</span>,<span class="fl">66.7</span>, v),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>           <span class="at">v=</span><span class="fu">ifelse</span>(<span class="sc">!!</span>v1<span class="sc">==</span><span class="dv">4</span>,<span class="dv">100</span>,  v)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-!!</span>v1)</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(dd) <span class="ot">&lt;-</span> vt</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dd)</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="co">#missing 16,18 for now</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>score_q48 <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>  <span class="co">#epilepsy impact</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  ei <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">26</span>,<span class="dv">28</span><span class="sc">:</span><span class="dv">34</span>,<span class="dv">36</span>,<span class="dv">47</span>,<span class="dv">48</span>)),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"ei"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>  r_ei <span class="ot">&lt;-</span> <span class="fu">map2</span>(ei<span class="sc">$</span>lq,ei<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y)) <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>  <span class="co">#memory/concentration</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  mc <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lq = paste0("q",c(8,12:20)),</span></span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">12</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">17</span>,<span class="dv">19</span>,<span class="dv">20</span>)),</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lv = paste0("mc",1:10)</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"mc"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>  r_mc <span class="ot">&lt;-</span> <span class="fu">map2</span>(mc<span class="sc">$</span>lq,mc<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>  <span class="co">#attitudes toward epilepsy</span></span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>  at <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">43</span><span class="sc">:</span><span class="dv">46</span>)),</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"at"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>  r_at <span class="ot">&lt;-</span> <span class="fu">map2</span>(at<span class="sc">$</span>lq,at<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>  <span class="co">#physical functioning</span></span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>  pf <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)),</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"pf"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>  r_pf <span class="ot">&lt;-</span> <span class="fu">map2</span>(pf<span class="sc">$</span>lq,pf<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">#stigma (4 category)</span></span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>  st <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">37</span><span class="sc">:</span><span class="dv">42</span>)),</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"st"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>  r_st <span class="ot">&lt;-</span> <span class="fu">map2</span>(st<span class="sc">$</span>lq,st<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc4</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>  <span class="co">#social support</span></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>  ss <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">21</span><span class="sc">:</span><span class="dv">24</span>)),</span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"ss"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>  r_ss <span class="ot">&lt;-</span> <span class="fu">map2</span>(ss<span class="sc">$</span>lq,ss<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a>  <span class="co">#school behavior</span></span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a>  sb <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">9</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">27</span>)),</span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"sb"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a>  r_sb <span class="ot">&lt;-</span> <span class="fu">map2</span>(sb<span class="sc">$</span>lq,sb<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>  <span class="co">#health perceptions</span></span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>  hp <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">lq =</span> <span class="fu">paste0</span>(<span class="st">"q"</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">35</span>)),</span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">lv =</span> <span class="fu">paste0</span>(<span class="st">"hp"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a>  r_hp <span class="ot">&lt;-</span> <span class="fu">map2</span>(hp<span class="sc">$</span>lq,hp<span class="sc">$</span>lv,<span class="sc">~</span><span class="fu">sc5</span>(<span class="at">dt=</span>df,<span class="at">vf=</span>.x,<span class="at">vt=</span>.y))  <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>()</span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a>  <span class="co">#summarise: what to do with missing item? currently averaging by domain</span></span>
<span id="cb23-92"><a href="#cb23-92" aria-hidden="true" tabindex="-1"></a>  d1 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(r_ei,r_mc,r_at,r_pf,r_st,r_ss,r_sb,r_hp) <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-93"><a href="#cb23-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">sum_ei=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(ei1<span class="sc">:</span>ei12),<span class="at">na.rm =</span> T),</span>
<span id="cb23-94"><a href="#cb23-94" aria-hidden="true" tabindex="-1"></a>           <span class="co"># sum_mc=mean(c_across(mc1:mc10),na.rm = T),</span></span>
<span id="cb23-95"><a href="#cb23-95" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_mc=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(mc1<span class="sc">:</span>mc8),<span class="at">na.rm =</span> T),</span>
<span id="cb23-96"><a href="#cb23-96" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_at=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(at1<span class="sc">:</span>at4),<span class="at">na.rm =</span> T),</span>
<span id="cb23-97"><a href="#cb23-97" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_pf=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(pf1<span class="sc">:</span>pf5),<span class="at">na.rm =</span> T),</span>
<span id="cb23-98"><a href="#cb23-98" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_st=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(st1<span class="sc">:</span>st6),<span class="at">na.rm =</span> T),</span>
<span id="cb23-99"><a href="#cb23-99" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_ss=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(ss1<span class="sc">:</span>ss4),<span class="at">na.rm =</span> T),</span>
<span id="cb23-100"><a href="#cb23-100" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_sb=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(sb1<span class="sc">:</span>sb4),<span class="at">na.rm =</span> T),</span>
<span id="cb23-101"><a href="#cb23-101" aria-hidden="true" tabindex="-1"></a>           <span class="at">sum_hp=</span><span class="fu">mean</span>(<span class="fu">c_across</span>(hp1<span class="sc">:</span>hp3),<span class="at">na.rm =</span> T)</span>
<span id="cb23-102"><a href="#cb23-102" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-103"><a href="#cb23-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">overall=</span>sum_ei<span class="sc">*</span><span class="fl">0.31</span><span class="sc">+</span></span>
<span id="cb23-104"><a href="#cb23-104" aria-hidden="true" tabindex="-1"></a>             sum_mc<span class="sc">*</span><span class="fl">0.17</span><span class="sc">+</span></span>
<span id="cb23-105"><a href="#cb23-105" aria-hidden="true" tabindex="-1"></a>             sum_at<span class="sc">*</span><span class="fl">0.09</span><span class="sc">+</span></span>
<span id="cb23-106"><a href="#cb23-106" aria-hidden="true" tabindex="-1"></a>             sum_pf<span class="sc">*</span><span class="fl">0.09</span><span class="sc">+</span></span>
<span id="cb23-107"><a href="#cb23-107" aria-hidden="true" tabindex="-1"></a>             sum_st<span class="sc">*</span><span class="fl">0.13</span><span class="sc">+</span></span>
<span id="cb23-108"><a href="#cb23-108" aria-hidden="true" tabindex="-1"></a>             sum_ss<span class="sc">*</span><span class="fl">0.02</span><span class="sc">+</span></span>
<span id="cb23-109"><a href="#cb23-109" aria-hidden="true" tabindex="-1"></a>             sum_sb<span class="sc">*</span><span class="fl">0.06</span><span class="sc">+</span></span>
<span id="cb23-110"><a href="#cb23-110" aria-hidden="true" tabindex="-1"></a>             sum_hp<span class="sc">*</span><span class="fl">0.12</span>)</span>
<span id="cb23-111"><a href="#cb23-111" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="inclusion-criteria" class="level3">
<h3 class="anchored" data-anchor-id="inclusion-criteria">inclusion criteria</h3>
<section id="vas" class="level4">
<h4 class="anchored" data-anchor-id="vas">VAS</h4>
<p>if Missed_fu is</p>
<ul>
<li>â€œNoâ€,</li>
<li>â€œNo missedâ€,</li>
<li>â€œNoneâ€,</li>
<li>â€œN0â€,</li>
<li>â€œNot missedâ€,</li>
<li>â€œNOâ€,</li>
<li>â€œNo missâ€,</li>
<li>â€œNo messingâ€,</li>
<li>â€œNo missenâ€,</li>
<li>â€œNo missingâ€,</li>
<li>â€œ0â€,</li>
<li>â€œOn timeâ€ the response will be included.</li>
</ul>
<p>For the NA(blank answers) and â€œVisit Doneâ€, we have no reasons to set them all as missing or not missing.<br>
So I use the important indices(<strong>follow_up_care_form_complete</strong>, <strong>confirmseize</strong>, <strong>weight_fu_v2</strong>, <strong>confirm_seizure_class_v2</strong>) to distinguish whether they are actually missing or not.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fcf <span class="ot">=</span> fu  <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(redcap_repeat_instrument<span class="sc">==</span><span class="st">"follow_up_care_form"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">incomplete=</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ifelse</span>(follow_up_care_form_complete<span class="sc">&lt;</span><span class="dv">2</span> <span class="sc">|</span> <span class="fu">is.na</span>(confirmseize) <span class="sc">|</span> <span class="fu">is.na</span>(weight_fu_v2) <span class="sc">|</span> <span class="fu">is.na</span>(seizeclass),<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">missed =</span> <span class="fu">ifelse</span>(missed_fu <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"No missed"</span>, <span class="st">"None"</span>, <span class="st">"N0"</span>, <span class="st">"Not missed"</span>, <span class="st">"NO"</span>, <span class="st">"No miss"</span>, <span class="st">"No missing"</span>, <span class="st">"No messing"</span>, <span class="st">"No missen"</span>, <span class="st">"0"</span>, <span class="st">"On time"</span>) <span class="sc">|</span> ((<span class="fu">str_detect</span>(missed_fu, <span class="st">"Visit done"</span>) <span class="sc">|</span> <span class="fu">str_detect</span>(missed_fu, <span class="st">"Visit Done"</span>) <span class="sc">|</span> <span class="fu">is.na</span>(missed_fu)) <span class="sc">&amp;</span> incomplete <span class="sc">==</span> <span class="dv">0</span>), <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="ot">=</span> fcf <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(missed <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="sc">%&gt;%</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(incomplete, missed_fu,<span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fcf_c <span class="sc">%&gt;%</span> <span class="fu">count</span>(missed_fu), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"missed_fu"</span>), <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"_inclusive"</span>, <span class="st">"_in_and_ex"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n_inclusive <span class="sc">/</span> n_in_and_ex)) <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"incomplete = 0 means completing all the key questions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">"400px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>incomplete = 0 means completing all the key questions</caption>
 <thead>
  <tr>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> incomplete </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> missed_fu </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> n_inclusive </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> n_in_and_ex </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:right;"> 14979 </td>
   <td style="text-align:right;"> 14979 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:right;"> 269 </td>
   <td style="text-align:right;"> 269 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> No missed </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> None </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> N0 </td>
   <td style="text-align:right;"> 39 </td>
   <td style="text-align:right;"> 39 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Not missed </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> NO </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, the CHW was sick. </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> No missing </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done the patient travelled for sallah break. </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was sick at the follow up time. </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient travelled. </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> No messing </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> No missen </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> On time </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done, Patient travelled with his mother </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done, the CHW put to bed a baby during the follow up period and was unable to bring the tablet for synching. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done, the CHW was nursing her sick infant child during the follow up period. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done, the CHW was sick and couldn't get the follow up on time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. I was sick. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. It is a phone visit, because the patient has moved to other part of the state and they couldn't get measuring scale for height, head and arm circumference. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. The parent couldn't be reached. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. The patient didn't come on the appointed date due to his mother's ilness. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. The patient travelled to Jigawa State. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. The patient travelled to another state in Nigeria which resulted in the delay for this follow up. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit Done. The patient's mother was not around. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done but the child lost wight becouse she have fever and abd pain send to  Dr to see at Hospital </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done child have fever send Dr see </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done no seizures but the child is very slim due to lack of food my the mother </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done the child didn't not have seizures but her condition is not good and wight is lost and no fever or diarrhoes  l send them to see  a Dr that  Hospital </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, The CHW was sick during the follow up period. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, but it was late because the patient travelled to Funtua LGA in Katsina State where there is not network communication. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, the CHW was nursing her child during the follow up period. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, the patient travelled and are now back home. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, the patient travelled but are now back home. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done, the patient travelled for sallah break </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. At first, the father said they travel for wedding, and they will spend 2 weeks, so after 2 weeks i call there number is not going so i desided to pay them a visit, today 6 oct 2021, yet the mother said she cannot go for BP today. she said she will make it next week. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was ill during the time of the visit, i could not do it on time! </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was sick - therefore, the visit was delayed. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was sick during the appointment date. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was sick during the follow up visif,so i could not do it on time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. I was sick during the follow up visit, that is why the follow up was delay. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. It was delayed because the patient travelled. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. It was delayed because they relocated and their line was unreachable. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. It was delayed due to the fact that the father who normally brings the child to the followup was sick. Moreover, the CHW figured financial constraints with the father and intended to give a helping hand but they couldn't be reached via phone afterwards until 3 weeks ago. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. Patient couldn't be reached. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. Patient relocated but we tracked them and they are able to come for both blinded physician and CHW visits today. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. She travelled at follow up time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The CHW lost contact with the parents of the child until last Monday. As such, the visit is measured late. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The CHW regains contact with the mother of the child after over 3 months of tireless tracking. The mother travelled to Niger Republic. The notification of the journey to the CHW failed. She told the CHW that, the child has been on the AED while they were away (abroad). </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The CHW was sick at the time of the visit. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The child had diarrhoea which made him loose 3kg of weight. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The child had lost in weight due to malaria fever. But she has recovered. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The delay was due to the fact their phone was unreachable. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The follow up was done within the window. The CHW lost her father and was in mourning. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The increased in previous weight occurs due to problem of weighing scale used before receiving the new one for the study. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The mother can not afford to buy the drug any more due to financial constraints, and the father is not giving any help.That is why the mother is trying to switch to traditional medicine but unfortunately the traditional healer deceived them and collect their money without treating her and ran away. This is what her Aunty told me the time I went to the house where they used to reside if they are coming for follow up and other schedules, because I couldn't reach them on phone.

I have collected their full current residential address  for tracing. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The mother was sick. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The parent relocated to Yobe state. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The parent's phone couldn't be reached. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The parents relocated to a new location without notice and their contact couldn't be reached until last Thursday 2nd September 2021. Therefore, the visit was delayed. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient is currently living with her grandmother in Abuja. She's returning to Kano only when secondary schools closes for sessional holidays. As such, the followup visit was delayed. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient traveled at the appointment date. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient travelled since before Sallah break. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient travelled to their Village. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient travelled. Later, I was sick and admitted into hospital. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The patient was missing since mid June 2021. Parents were lucky to find the child end of August 2021. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The reason it was delayed is because the patient travelled. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. The visit wasn't done at appointment date because his mother was sick at the time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They missed appointment because of transportion. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They patient travelled outside Kano. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They temporarily relocated to Lagos. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They travel at the appointment date. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They traveled at the appointment date. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They traveled. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They travelled at the follow up time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They travelled to Bauchi state at that time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done. They were not around at that time. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Visit done.The patient was not available on the exact follow up day. </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 100% </td>
  </tr>
</tbody>
</table></div>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="ot">=</span> fcf_c <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>gender) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(gender, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"record_id"</span>, <span class="st">"study_arm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="qolie" class="level4">
<h4 class="anchored" data-anchor-id="qolie">QOLIE</h4>
<p><strong>Source</strong></p>
<ol type="1">
<li><p>from both Screening and Follow up visits;</p></li>
<li><p>including both QOLIE-31 and QOLIE-AD-48.</p></li>
</ol>
<p><strong>Logic for selecting same-day QOLIE records</strong></p>
<p>For every participant, if there exists 2 QOLIE records on the same day,</p>
<ol type="1">
<li><p>choose the one with type(QOLIE-31/QOLIE-AD-48) more eligible for the age(11-17 use QOLIE-AD-48, &gt;18 use QOLIE-31);</p></li>
<li><p>if the same QOLIE type, choose the one with less missing domain and less missing items;</p></li>
<li><p>if still the same, choose the one with bigger <em>instance</em>.</p></li>
</ol>
<p><strong>Logic for i-th QOLIE</strong></p>
<p>For every participant,</p>
<ol type="1">
<li><p>the baseline date is obtained from <em>date_consent_screen</em> or <em>dataconsentenroll</em>, choosing one based on <em>ev0</em>;</p></li>
<li><p>0th QOLIE(<strong>first</strong>): the first occurence of QOLIE records, no matter whether the date is on or before or after the baseline date, and no matter whether the record is from Screening or Follow up Visits, except from one case: the date is after â€œ2022-01-01â€;</p></li>
<li><p>3rd QOLIE(<strong>last</strong>): the last time of QOLIE records and the date is after â€œ2022-01-01â€. For those who have only one time QOLIE record, if the date is after â€œ2022-01-01â€, the record will be labeled as the 3-rd, as the participants are only old enough(&gt;11) for the last time of visits(maybe we can compare their previous VAS score and this time of QOLIE);</p></li>
<li><p>1st or 2nd: the ones between the 0th and 3rd. For participants with 4 times of QOLIE and participants with 2 times of after-â€œ2022-01-01â€ QOLIE, the 2nd will be filled â€“ they could also be dropped as they are not so consistent with the schedule;</p></li>
<li><p>For the records with â€œNAâ€ dates, the order will depend on the <em>instance</em>. I prefer to put them on the 2nd, as they might be dropped as the data includes too much noises.</p></li>
</ol>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>q31_fu <span class="ot">=</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(redcap_repeat_instrument<span class="sc">==</span><span class="st">"qolie_31_17_v0_m2_m24"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(record_id, study_arm, <span class="fu">starts_with</span>(<span class="st">"red"</span>), <span class="fu">contains</span>(<span class="st">"qolie31"</span>), <span class="at">complete =</span> qolie_31_17_v0_m2_m24_complete) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="fu">vars</span>(<span class="fu">starts_with</span>(<span class="st">"qolie31_q"</span>)),<span class="sc">~</span><span class="fu">str_remove</span>(.,<span class="st">"qolie31_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">form =</span> <span class="st">"Follow Up Visits"</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>q31_scr <span class="ot">=</span> bs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolie_31_17_v0_complete <span class="sc">==</span> <span class="st">"2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">record_id =</span> unique_id, study_arm, <span class="fu">starts_with</span>(<span class="st">"red"</span>), <span class="fu">contains</span>(<span class="st">"qolie31"</span>), <span class="at">complete =</span> qolie_31_17_v0_complete,<span class="sc">-</span>redcap_event_name) <span class="sc">%&gt;%</span> </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="fu">vars</span>(<span class="fu">starts_with</span>(<span class="st">"qolie31_q"</span>)),<span class="sc">~</span><span class="fu">str_remove</span>(.,<span class="st">"qolie31_"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">form =</span> <span class="st">"Screening"</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>q31 <span class="ot">=</span> <span class="fu">rbind.data.frame</span>(q31_scr, q31_fu)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>q48_fu <span class="ot">&lt;-</span> fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(redcap_repeat_instrument<span class="sc">==</span><span class="st">"qolie_48_1117_v0_m2_m24"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(record_id,study_arm,<span class="fu">starts_with</span>(<span class="st">"red"</span>),<span class="fu">contains</span>(<span class="st">"qolie48"</span>), <span class="at">complete =</span> qolie_48_1117_v0_m2_m24_complete) <span class="sc">%&gt;%</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">form =</span> <span class="st">"Follow Up Visits"</span>)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>q48_scr <span class="ot">=</span> bs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolie_48_1117_v0_complete <span class="sc">==</span> <span class="st">"2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">record_id =</span> unique_id, study_arm, <span class="fu">starts_with</span>(<span class="st">"red"</span>), <span class="fu">contains</span>(<span class="st">"qolie48"</span>), <span class="at">complete =</span> qolie_48_1117_v0_complete,<span class="sc">-</span>redcap_event_name) <span class="sc">%&gt;%</span> </span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">form =</span> <span class="st">"Screening"</span>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>q48 <span class="ot">=</span> <span class="fu">rbind.data.frame</span>(q48_scr, q48_fu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QOLIE-31</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>r31 <span class="ot">&lt;-</span>  <span class="fu">score_q31</span>(q31) </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>r31x <span class="ot">&lt;-</span> r31 <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">miss_item=</span><span class="fu">sum</span>(<span class="fu">is.na</span>(<span class="fu">c_across</span>(sw1<span class="sc">:</span>sf5))),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">miss_domain=</span><span class="fu">sum</span>(<span class="fu">is.na</span>(<span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">"sum"</span>)))))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># QOLIE-AD-48</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>xwalk <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"~/Documents/GitHub/MarkovDA/data/qolie48_xwalk.xlsx"</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>vv <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">vn_redcap=</span><span class="fu">names</span>(q48),<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(q48)),<span class="at">stringsAsFactors =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(xwalk, <span class="at">by =</span> <span class="st">"vn_redcap"</span>) </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># there will be NA</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co">#rename survey question to align with original questionnaire</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(vv)) {</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(vv<span class="sc">$</span>vn_Cramer[i])) {</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    vv<span class="sc">$</span>vn_Cramer[i] <span class="ot">=</span> vv<span class="sc">$</span>vn_redcap[i]</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(q48) <span class="ot">=</span> vv<span class="sc">$</span>vn_Cramer</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>r48p <span class="ot">&lt;-</span> <span class="fu">score_q48</span>(q48) </span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>r48 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(q48,r48p)</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>r48x <span class="ot">&lt;-</span> r48 <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">miss_item=</span><span class="fu">sum</span>(<span class="fu">is.na</span>(<span class="fu">c_across</span>(ei1<span class="sc">:</span>hp3))),</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">miss_domain=</span><span class="fu">sum</span>(<span class="fu">is.na</span>(<span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">"sum"</span>)))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>allqolie <span class="ot">=</span> r48x <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"QOLIE-AD-48"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(record_id, study_arm, <span class="at">dateqolie =</span> dateqolie48, <span class="at">score =</span> overall, type, <span class="at">instance =</span> redcap_repeat_instance, miss_item, miss_domain) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(r31x <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"QOLIE-31"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(record_id, study_arm, <span class="at">dateqolie =</span> dateqolie31, <span class="at">score =</span> overall, type, <span class="at">instance =</span> redcap_repeat_instance, miss_item, miss_domain)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(basedate <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"record_id"</span>, <span class="st">"study_arm"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.nan</span>(score)) </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>allqolie <span class="ot">=</span> allqolie <span class="sc">%&gt;%</span> <span class="fu">count</span>(record_id, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">qolietimes =</span> n) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(allqolie) <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> <span class="fu">as.numeric</span>(dateqolie <span class="sc">-</span> bd)<span class="sc">/</span><span class="fl">365.25</span>, <span class="at">eligibility =</span> <span class="fu">ifelse</span>(age <span class="sc">&gt;</span> <span class="dv">17</span>, <span class="st">"QOLIE-31"</span>, <span class="fu">ifelse</span>(age <span class="sc">&lt;</span> <span class="dv">11</span>, <span class="st">"VAS"</span>, <span class="st">"QOLIE-AD-48"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(qolietimes), record_id, dateqolie, <span class="fu">desc</span>(miss_domain), <span class="fu">desc</span>(miss_item), instance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="do">## repeat -- same day twice</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>repeated <span class="ot">=</span> allqolie <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">count</span>(dateqolie) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">repeattime =</span> n)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># All of ns are 2. </span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>repeatqolie <span class="ot">=</span> allqolie <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(repeated) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(repeattime <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">remove =</span> <span class="dv">0</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="fu">nrow</span>(repeatqolie),<span class="dv">2</span>)){</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## first -- type</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (repeatqolie[i,<span class="st">"type"</span>] <span class="sc">!=</span> repeatqolie[i<span class="sc">+</span><span class="dv">1</span>,<span class="st">"type"</span>]){</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (repeatqolie[i,<span class="st">"type"</span>] <span class="sc">==</span> repeatqolie[i, <span class="st">"eligibility"</span>]){</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>      repeatqolie[i<span class="sc">+</span><span class="dv">1</span>, <span class="st">"remove"</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>      repeatqolie[i, <span class="st">"remove"</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="do">## then -- miss_item</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (repeatqolie[i,<span class="st">"miss_item"</span>] <span class="sc">!=</span> repeatqolie[i<span class="sc">+</span><span class="dv">1</span>, <span class="st">"miss_item"</span>]) {</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>      max_item <span class="ot">=</span> <span class="fu">max</span>(repeatqolie[i,<span class="st">"miss_item"</span>], repeatqolie[i<span class="sc">+</span><span class="dv">1</span>,<span class="st">"miss_item"</span>])</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (repeatqolie[i,<span class="st">"miss_item"</span>] <span class="sc">==</span> max_item) {</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>        repeatqolie[i,<span class="st">"remove"</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        repeatqolie[i<span class="sc">+</span><span class="dv">1</span>,<span class="st">"remove"</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>      <span class="do">## asc(instance) so smaller instance will be removed</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>      repeatqolie[i,<span class="st">"remove"</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>allqolie_c <span class="ot">=</span> allqolie <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(repeatqolie) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(remove <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> <span class="fu">is.na</span>(remove)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>repeattime, <span class="sc">-</span>remove, <span class="sc">-</span>qolietimes)</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>allqolie_c <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">count</span>(record_id, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">qolietimes =</span> n) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(allqolie_c)</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a><span class="do">## order = 0</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>order0 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(dateqolie)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">==</span> <span class="fu">min</span>(dateqolie)) <span class="sc">%&gt;%</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">&lt;</span> <span class="st">"2022-01-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">0</span>)</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="do">## order = 3</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>order3 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(dateqolie)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">==</span> <span class="fu">max</span>(dateqolie)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">&gt;=</span> <span class="st">"2022-01-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">3</span>)</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="do">## the first time but &gt; 2022-01-01 -- if only once but 2022</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a><span class="do">## order = 2</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>order2_1 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">==</span> <span class="fu">min</span>(dateqolie)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">&gt;=</span> <span class="st">"2022-01-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolietimes <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a><span class="co">#allqolie_c %&gt;% filter(qolietimes == 1 &amp; dateqolie &gt;= "2022-01-01") </span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a><span class="do">## two times both &gt; 2022-01-01</span></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>order2_2 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">&gt;=</span> <span class="st">"2022-01-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">&lt;</span> <span class="fu">max</span>(dateqolie)) <span class="sc">%&gt;%</span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a><span class="co"># date is NA</span></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>order2_3 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(dateqolie)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 times</span></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a>order2_4 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolietimes <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">!=</span> <span class="fu">min</span>(dateqolie) <span class="sc">&amp;</span> dateqolie <span class="sc">!=</span> <span class="fu">max</span>(dateqolie) <span class="sc">&amp;</span> (<span class="fu">difftime</span>(dateqolie, <span class="fu">min</span>(dateqolie), <span class="at">units=</span> <span class="st">"days"</span>) <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">|</span> <span class="fu">difftime</span>(dateqolie, <span class="fu">min</span>(dateqolie), <span class="at">units=</span> <span class="st">"days"</span>) <span class="sc">&lt;=</span> <span class="dv">40</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>order2_5 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolietimes <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dateqolie <span class="sc">!=</span> <span class="fu">min</span>(dateqolie) <span class="sc">&amp;</span> dateqolie <span class="sc">!=</span> <span class="fu">max</span>(dateqolie) <span class="sc">&amp;</span> (<span class="fu">difftime</span>(dateqolie, <span class="fu">min</span>(dateqolie), <span class="at">units=</span> <span class="st">"days"</span>) <span class="sc">&gt;=</span> <span class="dv">42</span> <span class="sc">&amp;</span> <span class="fu">difftime</span>(dateqolie, <span class="fu">min</span>(dateqolie), <span class="at">units=</span> <span class="st">"days"</span>) <span class="sc">&lt;=</span> <span class="dv">70</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((record_id <span class="sc">==</span> <span class="st">"PHC---134-90-2020-08-12 12:16"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-10-02"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC---134-90-2020-08-17 21:47"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-10-02"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC---141-119-2020-07-01 11:26"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-09-06"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC--103--69-2020-11-23 10:26"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2021-01-18"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a><span class="do">## order = 1</span></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>order2_6 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order0) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order3) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order2_1) <span class="sc">%&gt;%</span> </span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(order2_2) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order2_3) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order2_4) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order2_5) <span class="sc">%&gt;%</span> <span class="fu">count</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(allqolie_c) <span class="sc">%&gt;%</span></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((record_id <span class="sc">==</span> <span class="st">"PHC---132-50-2020-06-26 10:47"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2021-08-24"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC---132-50-2020-12-16 11:28"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-12-23"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC---133-32-2020-08-10 10:09"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-08-17"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC---133-44-2020-08-19 12:16"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-10-30"</span>) <span class="sc">|</span> (record_id <span class="sc">==</span> <span class="st">"PHC--103--77-2020-11-19 04:30"</span> <span class="sc">&amp;</span> dateqolie <span class="sc">==</span> <span class="st">"2020-11-26"</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>order2 <span class="ot">=</span> order2_1 <span class="sc">%&gt;%</span> </span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(order2_2) <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(order2_3) <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(order2_4) <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(order2_5) <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(order2_6) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>n)</span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>order1 <span class="ot">=</span> allqolie_c <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order0) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order3) <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(order2) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">order =</span> <span class="dv">1</span>)</span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a><span class="do">## bind</span></span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a>allq <span class="ot">=</span> <span class="fu">bind_rows</span>(order0, order1, order2, order3)</span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a><span class="co"># save(fu, bs, allq, fcf, fcf_c, gender, fudw, gender, location, dob, repeated, allqolie, order2, file = "with-drop-out.rda")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>allq <span class="ot">=</span> allq <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(reason <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(study_arm,record_id))</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="ot">=</span> fcf_c <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(fu <span class="sc">%&gt;%</span> <span class="fu">filter</span>(reason <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(study_arm,record_id))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(fu, bs, allq, fcf, fcf_c, gender, fudw, gender, location, dob, repeated, allqolie, order2, file = "data/without-drop-out.rda")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
</section>
<section id="analysis-and-result-briefs" class="level1">
<h1>Analysis and Result Briefs</h1>
<p>If youâ€™d like to see the results for participants excluding drop-outs, load the â€œwithout-drop-out.rdaâ€.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load("data/with-drop-out.rda")</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># load("without-drop-out.rda")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="qolieqolie-31-qolie-ad-48" class="level2">
<h2 class="anchored" data-anchor-id="qolieqolie-31-qolie-ad-48">QOLIE(QOLIE-31 &amp; QOLIE-AD-48)</h2>
<section id="the-inclusion-criteria-of-qolie-records" class="level3">
<h3 class="anchored" data-anchor-id="the-inclusion-criteria-of-qolie-records">the Inclusion Criteria of QOLIE records</h3>
<p><strong>Source</strong></p>
<ol type="1">
<li><p>from both Screening and Follow up visits;</p></li>
<li><p>including both QOLIE-31 and QOLIE-AD-48.</p></li>
</ol>
<p><strong>Logic for selecting same-day QOLIE records</strong></p>
<p>For every participant, if there exists 2 QOLIE records on the same day,</p>
<ol type="1">
<li><p>choose the one with type(QOLIE-31/QOLIE-AD-48) more eligible for the age(11-17 use QOLIE-AD-48, &gt;18 use QOLIE-31);</p></li>
<li><p>if the same QOLIE type, choose the one with less missing domain and less missing items;</p></li>
<li><p>if still the same, choose the one with bigger <em>instance</em>.</p></li>
</ol>
<p>There are 75 participants have 2 or more QOLIE records on the same day, the max times is 2.</p>
<p><strong>Logic for i-th QOLIE</strong></p>
<p>For every participant,</p>
<ol type="1">
<li><p>the baseline date is obtained from <em>date_consent_screen</em> or <em>dataconsentenroll</em>, choosing one based on <em>ev0</em>;</p></li>
<li><p>0th QOLIE(<strong>first</strong>): the first occurence of QOLIE records, no matter whether the date is on or <strong>before</strong> or <strong>after</strong> the baseline date, and no matter whether the record is from Screening or Follow up Visits, except from one case: the date is after â€œ2022-01-01â€; â€“ There are 181 records of 0th order with the date later than the baseline date.</p></li>
<li><p>3rd QOLIE(<strong>last</strong>): the last time of QOLIE records and the date is after â€œ2022-01-01â€. For those who have only one time QOLIE record, if the date is after â€œ2022-01-01â€, the record will be labeled as the 3-rd, as the participants are only old enough(&gt;11) for the last time of visits(maybe we can compare their previous VAS score and this time of QOLIE);</p></li>
<li><p>1st or 2nd: the ones between the 0th and 3rd. For participants with 4 times of QOLIE and participants with 2 times of after-â€œ2022-01-01â€ QOLIE, the 2nd will be filled â€“ they could also be dropped as they are not so consistent with the schedule;</p></li>
<li><p>For the 6 records with â€œNAâ€ dates, the order will depend on the <em>instance</em>. I prefer to put them on the 2nd, as they might be dropped when building models as the data includes too much noises.</p></li>
</ol>
<section id="complete-rate-of-the-instruments" class="level4">
<h4 class="anchored" data-anchor-id="complete-rate-of-the-instruments">Complete Rate of the instruments</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">base =</span> <span class="fu">ifelse</span>(type <span class="sc">==</span> <span class="st">'QOLIE-AD-48'</span>, <span class="dv">47</span>, <span class="dv">31</span>), <span class="at">miss_item_p =</span> (base <span class="sc">-</span> miss_item) <span class="sc">/</span> base, <span class="at">miss_item_pct =</span> <span class="fu">ifelse</span>(miss_item_p <span class="sc">==</span> <span class="dv">1</span>, <span class="st">'100%'</span>, <span class="fu">ifelse</span>(miss_item_p <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> miss_item_p <span class="sc">&gt;=</span> <span class="fl">0.9</span>, <span class="st">'90% - 99%'</span>, <span class="fu">ifelse</span>(miss_item_p <span class="sc">&lt;</span> <span class="fl">0.9</span> <span class="sc">&amp;</span> miss_item_p <span class="sc">&gt;=</span> <span class="fl">0.8</span>, <span class="st">'80% - 89%'</span>, <span class="st">'below 80%'</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, miss_item_pct) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n <span class="sc">/</span> <span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(study_arm, <span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">complete_rate =</span> miss_item_pct) <span class="sc">%&gt;%</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Complete Rates of QOLIE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"EUC"</span>,<span class="dv">1</span>,<span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"TSC"</span>,<span class="dv">5</span>,<span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div style="border: 1px solid #ddd; padding: 5px; "><table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Complete Rates of QOLIE</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> complete_rate </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="4"><td colspan="3" style="border-bottom: 1px solid;"><strong>EUC</strong></td></tr>
<tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 100% </td>
   <td style="text-align:right;"> 699 </td>
   <td style="text-align:left;"> 69.4% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 90% - 99% </td>
   <td style="text-align:right;"> 222 </td>
   <td style="text-align:left;"> 22.0% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 80% - 89% </td>
   <td style="text-align:right;"> 61 </td>
   <td style="text-align:left;"> 6.1% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> below 80% </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:left;"> 2.5% </td>
  </tr>
  <tr grouplength="4"><td colspan="3" style="border-bottom: 1px solid;"><strong>TSC</strong></td></tr>
<tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 100% </td>
   <td style="text-align:right;"> 838 </td>
   <td style="text-align:left;"> 74.3% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 90% - 99% </td>
   <td style="text-align:right;"> 224 </td>
   <td style="text-align:left;"> 19.9% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 80% - 89% </td>
   <td style="text-align:right;"> 59 </td>
   <td style="text-align:left;"> 5.2% </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> below 80% </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:left;"> 0.6% </td>
  </tr>
</tbody>
</table></div>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>allq, <span class="fu">aes</span>(<span class="at">x=</span>miss_item)) <span class="sc">+</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_bin</span>(<span class="at">binwidth=</span><span class="dv">1</span>, <span class="at">geom=</span><span class="st">"text"</span>, <span class="fu">aes</span>(<span class="at">label=</span>..count..), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(type<span class="sc">~</span>study_arm) <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of missing item"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Freq"</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">800</span>)) <span class="sc">+</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Missing items among the questions in QOLIE"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/miss-item-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>allq <span class="ot">=</span> allq <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">base =</span> <span class="fu">ifelse</span>(type <span class="sc">==</span> <span class="st">'QOLIE-AD-48'</span>, <span class="dv">47</span>, <span class="dv">31</span>), <span class="at">miss_item_p =</span> (base <span class="sc">-</span> miss_item) <span class="sc">/</span> base) <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(miss_item_p <span class="sc">&gt;=</span> <span class="fl">0.8</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>base, <span class="sc">-</span>miss_item_p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Then based on the completion rate, weâ€™ll delete the cases with completion rate lower than 80%.</p>
</section>
</section>
<section id="missing-rate-for-qolie" class="level3">
<h3 class="anchored" data-anchor-id="missing-rate-for-qolie">Missing Rate for QOLIE</h3>
<section id="had-qolie-records-should-have-qolie-records" class="level4">
<h4 class="anchored" data-anchor-id="had-qolie-records-should-have-qolie-records">Had QOLIE records / Should have QOLIE records</h4>
<p>Number of Participants with QOLIE records: 813</p>
<p>Number of Participants being over 11 at lease once during visits: 873</p>
<p>There are 46 participants not old enough to use QOLIE (at least once), but indeed having QOLIE records.</p>
<p>Number of Participants eligible to have and indeed having QOLIE records: 786, rate is 90%</p>
</section>
<section id="how-many-times-of-qolie-the-participants-have" class="level4">
<h4 class="anchored" data-anchor-id="how-many-times-of-qolie-the-participants-have">How many times of QOLIE the participants have?</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">count</span>(record_id) <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">times_of_qolie =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(times_of_qolie) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"times of QOLIE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>times of QOLIE</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> times_of_qolie </th>
   <th style="text-align:right;"> n </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 154 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 60 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 567 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 32 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"order 0th is the first one, order 3th is the last one (2022) "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>order 0th is the first one, order 3th is the last one (2022) </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm, order) <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_records =</span> <span class="fu">n</span>(), <span class="at">mean_score =</span> <span class="fu">mean</span>(score), <span class="at">sd_score =</span> <span class="fu">sd</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_by_arm =</span> <span class="fu">percent</span>(n_records <span class="sc">/</span> <span class="fu">sum</span>(n_records))) <span class="sc">%&gt;%</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(order, n_records, pct_by_arm, mean_score, sd_score) <span class="sc">%&gt;%</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"QOLIE records by order"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"EUC"</span>,<span class="dv">1</span>,<span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"TSC"</span>,<span class="dv">5</span>,<span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>QOLIE records by order</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> order </th>
   <th style="text-align:right;"> n_records </th>
   <th style="text-align:left;"> pct_by_arm </th>
   <th style="text-align:right;"> mean_score </th>
   <th style="text-align:right;"> sd_score </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="4"><td colspan="5" style="border-bottom: 1px solid;"><strong>EUC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:right;"> 314 </td>
   <td style="text-align:left;"> 32.0% </td>
   <td style="text-align:right;"> 48.95061 </td>
   <td style="text-align:right;"> 16.32521 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 289 </td>
   <td style="text-align:left;"> 29.4% </td>
   <td style="text-align:right;"> 50.63552 </td>
   <td style="text-align:right;"> 14.08038 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:left;"> 1.9% </td>
   <td style="text-align:right;"> 40.82569 </td>
   <td style="text-align:right;"> 17.30808 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:left;"> 36.7% </td>
   <td style="text-align:right;"> 53.38654 </td>
   <td style="text-align:right;"> 14.67627 </td>
  </tr>
  <tr grouplength="4"><td colspan="5" style="border-bottom: 1px solid;"><strong>TSC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:right;"> 357 </td>
   <td style="text-align:left;"> 31.8% </td>
   <td style="text-align:right;"> 48.39177 </td>
   <td style="text-align:right;"> 15.64808 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 329 </td>
   <td style="text-align:left;"> 29.3% </td>
   <td style="text-align:right;"> 50.14836 </td>
   <td style="text-align:right;"> 14.75667 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:left;"> 1.7% </td>
   <td style="text-align:right;"> 46.27617 </td>
   <td style="text-align:right;"> 15.75473 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 416 </td>
   <td style="text-align:left;"> 37.1% </td>
   <td style="text-align:right;"> 54.85074 </td>
   <td style="text-align:right;"> 13.93200 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm, order, type) <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_records =</span> <span class="fu">n</span>(), <span class="at">mean_score =</span> <span class="fu">mean</span>(score), <span class="at">sd_score =</span> <span class="fu">sd</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_by_arm =</span> <span class="fu">percent</span>(n_records <span class="sc">/</span> <span class="fu">sum</span>(n_records))) <span class="sc">%&gt;%</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(order, type, n_records, pct_by_arm, mean_score, sd_score) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"QOLIE records by order"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"EUC"</span>,<span class="dv">1</span>,<span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"TSC"</span>,<span class="dv">9</span>,<span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>QOLIE records by order</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> order </th>
   <th style="text-align:left;"> type </th>
   <th style="text-align:right;"> n_records </th>
   <th style="text-align:left;"> pct_by_arm </th>
   <th style="text-align:right;"> mean_score </th>
   <th style="text-align:right;"> sd_score </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="8"><td colspan="6" style="border-bottom: 1px solid;"><strong>EUC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:left;"> 0.31% </td>
   <td style="text-align:right;"> 56.13713 </td>
   <td style="text-align:right;"> 8.209630 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 311 </td>
   <td style="text-align:left;"> 31.67% </td>
   <td style="text-align:right;"> 48.88129 </td>
   <td style="text-align:right;"> 16.375356 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:left;"> 1.32% </td>
   <td style="text-align:right;"> 53.96729 </td>
   <td style="text-align:right;"> 14.147086 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 276 </td>
   <td style="text-align:left;"> 28.11% </td>
   <td style="text-align:right;"> 50.47859 </td>
   <td style="text-align:right;"> 14.083550 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:left;"> 0.41% </td>
   <td style="text-align:right;"> 42.93823 </td>
   <td style="text-align:right;"> 7.414770 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:left;"> 1.53% </td>
   <td style="text-align:right;"> 40.26235 </td>
   <td style="text-align:right;"> 19.281196 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:left;"> 10.79% </td>
   <td style="text-align:right;"> 57.38363 </td>
   <td style="text-align:right;"> 13.691124 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 254 </td>
   <td style="text-align:left;"> 25.87% </td>
   <td style="text-align:right;"> 51.71847 </td>
   <td style="text-align:right;"> 14.776838 </td>
  </tr>
  <tr grouplength="8"><td colspan="6" style="border-bottom: 1px solid;"><strong>TSC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:left;"> 0.535% </td>
   <td style="text-align:right;"> 47.05317 </td>
   <td style="text-align:right;"> 8.083108 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 351 </td>
   <td style="text-align:left;"> 31.311% </td>
   <td style="text-align:right;"> 48.41465 </td>
   <td style="text-align:right;"> 15.751050 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:left;"> 0.981% </td>
   <td style="text-align:right;"> 57.15158 </td>
   <td style="text-align:right;"> 9.376176 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 318 </td>
   <td style="text-align:left;"> 28.368% </td>
   <td style="text-align:right;"> 49.90611 </td>
   <td style="text-align:right;"> 14.858722 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> 0.446% </td>
   <td style="text-align:right;"> 57.10524 </td>
   <td style="text-align:right;"> 18.703434 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:left;"> 1.249% </td>
   <td style="text-align:right;"> 42.40865 </td>
   <td style="text-align:right;"> 13.222303 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:left;"> QOLIE-31 </td>
   <td style="text-align:right;"> 124 </td>
   <td style="text-align:left;"> 11.062% </td>
   <td style="text-align:right;"> 59.26109 </td>
   <td style="text-align:right;"> 11.612683 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:left;"> QOLIE-AD-48 </td>
   <td style="text-align:right;"> 292 </td>
   <td style="text-align:left;"> 26.048% </td>
   <td style="text-align:right;"> 52.97785 </td>
   <td style="text-align:right;"> 14.422254 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Totally, there are 241 participants having at least one time of QOLIE-31 â€“ totally 272 records.</p>
</section>
<section id="time-distribution-for-qolie-times" class="level4">
<h4 class="anchored" data-anchor-id="time-distribution-for-qolie-times">Time distribution for QOLIE times</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(order) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>dateqolie)) <span class="sc">+</span> </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(order<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"QOLIE"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Freq"</span>) <span class="sc">+</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of QOLIE dates"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/qolie-dates-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="demographic-of-qolie-users" class="level3">
<h3 class="anchored" data-anchor-id="demographic-of-qolie-users">Demographic of QOLIE users</h3>
<section id="gender" class="level4">
<h4 class="anchored" data-anchor-id="gender">Gender</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender=</span><span class="fu">factor</span>(gender,<span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, gender) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 136 </td>
   <td style="text-align:left;"> 36% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 245 </td>
   <td style="text-align:left;"> 64% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 159 </td>
   <td style="text-align:left;"> 37% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 273 </td>
   <td style="text-align:left;"> 63% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="city" class="level4">
<h4 class="anchored" data-anchor-id="city">City</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(location) <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, city) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> city </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 89 </td>
   <td style="text-align:left;"> 23.4% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 178 </td>
   <td style="text-align:left;"> 46.7% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 114 </td>
   <td style="text-align:left;"> 29.9% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 97 </td>
   <td style="text-align:left;"> 22.5% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 229 </td>
   <td style="text-align:left;"> 53.0% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:left;"> 24.5% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="age-and-age-eligibility" class="level4">
<h4 class="anchored" data-anchor-id="age-and-age-eligibility">Age and Age eligibility</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(study_arm <span class="sc">~</span> order) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Age"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Freq"</span>) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Age Distribution for QOLIE users"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/age-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allq <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">elig =</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(type <span class="sc">==</span> eligibility, <span class="st">"Correct"</span>, <span class="st">"Ineligible"</span>))), <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> score, <span class="at">color =</span> <span class="fu">factor</span>(order), <span class="at">shape =</span> elig)) <span class="sc">+</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Spectral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/age-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="distribution-of-qolie-scores" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-qolie-scores">Distribution of QOLIE Scores</h3>
<p>As the 2th records include lots of noises and have a small sample for both 2 arms, we may exclude it in the later analysis. The other 3 parts show a normal distribution shape and a small increasing tendency for the average score.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm, order) <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_records =</span> <span class="fu">n</span>(), <span class="at">mean_score =</span> <span class="fu">mean</span>(score), <span class="at">sd_score =</span> <span class="fu">sd</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_by_arm =</span> <span class="fu">percent</span>(n_records <span class="sc">/</span> <span class="fu">sum</span>(n_records))) <span class="sc">%&gt;%</span> </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(order, n_records, pct_by_arm, mean_score, sd_score) <span class="sc">%&gt;%</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"QOLIE records by order"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"EUC"</span>,<span class="dv">1</span>,<span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"TSC"</span>,<span class="dv">5</span>,<span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>QOLIE records by order</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> order </th>
   <th style="text-align:right;"> n_records </th>
   <th style="text-align:left;"> pct_by_arm </th>
   <th style="text-align:right;"> mean_score </th>
   <th style="text-align:right;"> sd_score </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="4"><td colspan="5" style="border-bottom: 1px solid;"><strong>EUC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:right;"> 314 </td>
   <td style="text-align:left;"> 32.0% </td>
   <td style="text-align:right;"> 48.95061 </td>
   <td style="text-align:right;"> 16.32521 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 289 </td>
   <td style="text-align:left;"> 29.4% </td>
   <td style="text-align:right;"> 50.63552 </td>
   <td style="text-align:right;"> 14.08038 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:left;"> 1.9% </td>
   <td style="text-align:right;"> 40.82569 </td>
   <td style="text-align:right;"> 17.30808 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:left;"> 36.7% </td>
   <td style="text-align:right;"> 53.38654 </td>
   <td style="text-align:right;"> 14.67627 </td>
  </tr>
  <tr grouplength="4"><td colspan="5" style="border-bottom: 1px solid;"><strong>TSC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0 </td>
   <td style="text-align:right;"> 357 </td>
   <td style="text-align:left;"> 31.8% </td>
   <td style="text-align:right;"> 48.39177 </td>
   <td style="text-align:right;"> 15.64808 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 329 </td>
   <td style="text-align:left;"> 29.3% </td>
   <td style="text-align:right;"> 50.14836 </td>
   <td style="text-align:right;"> 14.75667 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:left;"> 1.7% </td>
   <td style="text-align:right;"> 46.27617 </td>
   <td style="text-align:right;"> 15.75473 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 416 </td>
   <td style="text-align:left;"> 37.1% </td>
   <td style="text-align:right;"> 54.85074 </td>
   <td style="text-align:right;"> 13.93200 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>allq <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>score, <span class="at">y=</span>..density..)) <span class="sc">+</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span> </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(study_arm <span class="sc">~</span> order) <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"QOLIE Scores"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Density Distribution of valid QOLIE scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/qolie-scores-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="exploratory-hypothesis-testing" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-hypothesis-testing">Exploratory Hypothesis Testing</h3>
<p>Because there are not enough samples for order == 2 which also includes some noises, I excluded the 2th order in the analysis. The inclusion criteria is: participants with at least 0th(the regarded â€œfirstâ€) and 3th(the regarded â€œlastâ€) QOLIE records.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>qinfo <span class="ot">=</span> allq <span class="sc">%&gt;%</span> <span class="fu">filter</span>(order <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(allq <span class="sc">%&gt;%</span> <span class="fu">filter</span>(order <span class="sc">==</span> <span class="dv">3</span>), <span class="at">by =</span> <span class="st">"record_id"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(allq) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(order <span class="sc">!=</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(gender) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(location)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %&gt;% filter(type = eligibility)</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  score <span class="sc">~</span> <span class="fu">factor</span>(study_arm),</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> qinfo,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">var.equal =</span> <span class="cn">TRUE</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Two Sample t-test

data:  score by factor(study_arm)
t = -0.43916, df = 1863, p-value = 0.6606
alternative hypothesis: true difference in means between group EUC and group TSC is not equal to 0
95 percent confidence interval:
 -1.662510  1.054189
sample estimates:
mean in group EUC mean in group TSC 
         50.97605          51.28022 </code></pre>
</div>
</div>
<p>Thereâ€™s no difference between 2 arms among all times.</p>
<p>The <em>study arm</em>, <em>order</em>, <em>gender</em>, and <em>city</em> variables are all categorical variables(like dummy variables) without numeric meaning, so we use factor here. <em>Age</em> is numeric.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(score <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(order), qinfo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ factor(study_arm) * factor(order), data = qinfo)

Residuals:
    Min      1Q  Median      3Q     Max 
-55.145  -8.233   0.945   9.421  42.452 

Coefficients:
                                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                          48.6811     0.8601  56.600  &lt; 2e-16 ***
factor(study_arm)TSC                 -0.2161     1.1728  -0.184 0.853857    
factor(order)1                        2.2354     1.2349   1.810 0.070442 .  
factor(order)3                        4.6461     1.2163   3.820 0.000138 ***
factor(study_arm)TSC:factor(order)1  -0.5351     1.6840  -0.318 0.750709    
factor(study_arm)TSC:factor(order)3   2.0338     1.6585   1.226 0.220254    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.72 on 1859 degrees of freedom
Multiple R-squared:  0.02752,   Adjusted R-squared:  0.0249 
F-statistic: 10.52 on 5 and 1859 DF,  p-value: 5.62e-10</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interaction.plot</span>(<span class="at">x.factor =</span> qinfo<span class="sc">$</span>order, <span class="co">#x-axis variable</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.factor =</span> qinfo<span class="sc">$</span>study_arm, <span class="co">#variable for lines</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">response =</span> qinfo<span class="sc">$</span>score, <span class="co">#y-axis variable</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fun =</span> mean, <span class="co">#metric to plot</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ylab =</span> <span class="st">"QOLIE Score (marginal mean)"</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xlab =</span> <span class="st">"Order of QOLIE"</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"pink"</span>, <span class="st">"blue"</span>),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lty =</span> <span class="dv">1</span>, <span class="co">#line type</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co">#line width</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.label =</span> <span class="st">"Study Arm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/lm0-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>When trying to explain the group difference among the times and the arms,</p>
<p>The intercept is the QOLIE score of EUC arm on the 0th order.</p>
<p>For the 0th records, the difference between 2 arms is not significant.</p>
<p>the main effect of order is kind of significantly(1th over 0th: p &lt; 0.1, marginal significant; 3th over 0th, p &lt; 0.05, siginificant) positive â€“ as time goes by (<strong>may caused by more treatment, changes in life, age grows</strong>), the QOLIE score improves.</p>
<p>Not find any evidence that the TSC has a better effect than EUC on every visit.</p>
<p>The lm formula creates several dummy variables:</p>
<p><em>TSC</em>, for TSC arm is 1 and EUC arm is 0;</p>
<p><em>order1</em> and <em>order3</em>, for 0th having both 2 are 0, 1th for only order1 = 1 and 3th for only order3 = 1.</p>
<p><span class="math display">\[QOLIE = 48.6810946 + -0.2160521 * TSC + 2.2353547 * order_1 + 4.6460678 * order_3 \\ + -0.5350992 * TSC * order_1 + 2.0338043 * TSC * order_3 \]</span></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(score <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(order) <span class="sc">+</span> age, qinfo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ factor(study_arm) * factor(order) + age, 
    data = qinfo)

Residuals:
    Min      1Q  Median      3Q     Max 
-54.982  -8.212   0.958   9.256  42.552 

Coefficients:
                                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                          37.1729     2.7219  13.657  &lt; 2e-16 ***
factor(study_arm)TSC                 -0.1890     1.1669  -0.162   0.8713    
factor(order)1                        2.0521     1.2294   1.669   0.0953 .  
factor(order)3                        3.1645     1.2551   2.521   0.0118 *  
age                                   0.8076     0.1813   4.454 8.93e-06 ***
factor(study_arm)TSC:factor(order)1  -0.5347     1.6755  -0.319   0.7497    
factor(study_arm)TSC:factor(order)3   2.0356     1.6502   1.234   0.2175    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.65 on 1858 degrees of freedom
Multiple R-squared:  0.03779,   Adjusted R-squared:  0.03468 
F-statistic: 12.16 on 6 and 1858 DF,  p-value: 1.873e-13</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(qinfo,<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> score, <span class="at">color =</span> order)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"jitter"</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">'lm'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/lm-age-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Age plays a small role over time</strong> â€“ the increasing age interpret part of the increasing QOLIE over visits and time. The order is no longer have a significance effect.</p>
<p>the lm formula is (only age is not a dummy variable):</p>
<p><span class="math display">\[QOLIE = 37.1728684 + -0.1890242 * TSC + 2.0521008 * order_1 + 3.1645446 * order_3 \\ + -0.5347111 * TSC * order_1 + 2.035648 * TSC*order_3 + 0.807643 * age\]</span></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(score <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(order) <span class="sc">+</span> <span class="fu">factor</span>(gender), qinfo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ factor(study_arm) * factor(order) + factor(gender), 
    data = qinfo)

Residuals:
    Min      1Q  Median      3Q     Max 
-55.501  -8.089   1.062   9.344  43.030 

Coefficients:
                                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                          48.0812     0.9717  49.481  &lt; 2e-16 ***
factor(study_arm)TSC                 -0.1947     1.1726  -0.166 0.868166    
factor(order)1                        2.2458     1.2347   1.819 0.069085 .  
factor(order)3                        4.6461     1.2161   3.820 0.000138 ***
factor(gender)2                       0.9349     0.7053   1.326 0.185136    
factor(study_arm)TSC:factor(order)1  -0.5467     1.6837  -0.325 0.745458    
factor(study_arm)TSC:factor(order)3   2.0338     1.6582   1.227 0.220160    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.72 on 1858 degrees of freedom
Multiple R-squared:  0.02844,   Adjusted R-squared:  0.0253 
F-statistic: 9.063 on 6 and 1858 DF,  p-value: 8.648e-10</code></pre>
</div>
</div>
<p><strong>Gender plays no role.</strong></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(score <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(order) <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">factor</span>(city), qinfo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ factor(study_arm) * factor(order) + age + 
    factor(city), data = qinfo)

Residuals:
    Min      1Q  Median      3Q     Max 
-52.041  -8.299   0.897   9.313  45.502 

Coefficients:
                                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                          37.5086     2.7986  13.403  &lt; 2e-16 ***
factor(study_arm)TSC                 -0.5679     1.1565  -0.491 0.623436    
factor(order)1                        2.0376     1.2168   1.675 0.094187 .  
factor(order)3                        3.3619     1.2428   2.705 0.006892 ** 
age                                   0.7000     0.1807   3.874 0.000111 ***
factor(city)Kano                      3.4593     0.8506   4.067 4.96e-05 ***
factor(city)Zaria                    -1.3909     0.9678  -1.437 0.150850    
factor(study_arm)TSC:factor(order)1  -0.5013     1.6584  -0.302 0.762453    
factor(study_arm)TSC:factor(order)3   2.0354     1.6333   1.246 0.212846    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.5 on 1856 degrees of freedom
Multiple R-squared:  0.05843,   Adjusted R-squared:  0.05437 
F-statistic:  14.4 on 8 and 1856 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p><strong>City plays a role that Zario &lt; Keduna &lt; Kano.</strong></p>
<p><span class="math display">\[QOLIE = 37.5085908 + -0.5679033 * TSC + 2.0376459 * order_1 + 3.3619162 * order_3 + -0.5013377 * TSC * order_1 + 2.0354024 * TSC * order_3 \\ + 0.7000472 * age + 3.4592855 * Kano + -1.3908916 * Zaria\]</span></p>
</section>
</section>
<section id="vas-1" class="level2">
<h2 class="anchored" data-anchor-id="vas-1">VAS</h2>
<section id="inclusion-criteria-1" class="level3">
<h3 class="anchored" data-anchor-id="inclusion-criteria-1">Inclusion Criteria</h3>
<ol type="1">
<li><p>if the <em>missed_fu</em> is like â€œnoâ€ or â€œon timeâ€, include no matter any missing. Thereâ€™re 458 records(2.814478 % of all) meeting the conditions.</p></li>
<li><p>if the <em>missed_fu</em> is <strong>NA</strong> or â€œVisit Doneâ€, inclusion depends on whether they filled all of <em>follow_up_care_form_complete</em>, <em>confirmseize</em>, <em>weight_fu_v2</em>, <em>seizeclass</em>. There â€™re 15054 records (92.5090641 % of all) meeting the conditions.</p></li>
<li><p>if the <em>missed_fu</em> answers something else, exclude. Thereâ€™re 761 records (4.6764579 % of all) excluded.</p></li>
</ol>
</section>
<section id="demographic-1" class="level3">
<h3 class="anchored" data-anchor-id="demographic-1">Demographic</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender=</span><span class="fu">factor</span>(gender,<span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, gender) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Gender in 2 arms"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Gender in 2 arms</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 269 </td>
   <td style="text-align:left;"> 37% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 458 </td>
   <td style="text-align:left;"> 63% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 272 </td>
   <td style="text-align:left;"> 36% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 491 </td>
   <td style="text-align:left;"> 64% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(record_id) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(location) <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(study_arm, city) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"City in 2 arms"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>City in 2 arms</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> study_arm </th>
   <th style="text-align:left;"> city </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 156 </td>
   <td style="text-align:left;"> 21.5% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 372 </td>
   <td style="text-align:left;"> 51.2% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> EUC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 199 </td>
   <td style="text-align:left;"> 27.4% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kaduna </td>
   <td style="text-align:right;"> 189 </td>
   <td style="text-align:left;"> 24.8% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Kano </td>
   <td style="text-align:right;"> 401 </td>
   <td style="text-align:left;"> 52.6% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> TSC </td>
   <td style="text-align:left;"> Zaria </td>
   <td style="text-align:right;"> 173 </td>
   <td style="text-align:left;"> 22.7% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fcf_c, <span class="fu">aes</span>(<span class="at">x =</span> agefu, <span class="at">y =</span> qolie, <span class="at">color =</span> <span class="fu">factor</span>(redcap_repeat_instance))) <span class="sc">+</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Spectral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/demograohic-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="analysis-of-vas-over-time" class="level3">
<h3 class="anchored" data-anchor-id="analysis-of-vas-over-time">Analysis of VAS over time</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>fcf_c <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>qolie)) <span class="sc">+</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(study_arm<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"VAS"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Freq"</span>) <span class="sc">+</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of valid scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/vas-analysis-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="main-effects-and-interactions-of-study-arms-and-visit-times" class="level4">
<h4 class="anchored" data-anchor-id="main-effects-and-interactions-of-study-arms-and-visit-times">Main effects and interactions of study arms and visit times</h4>
<p>For the cost-effectiveness analysis, we need to compare the utilities between the two arms along with the 10 follow up visits. Study arm is a two-level factor as EUC is the control group and TSC is the treatment group. lm function creates a dummy variable named TSC(the line: <strong>factor(study_arm) TSC</strong>) that <em>TSC</em> = 1 for TSC group and <em>TSC</em> = 0 for EUC group.</p>
<p>The main effect of visits is to use the <strong>Screening</strong> (<strong>visit 0</strong>) as the baseline. There are 10 dummy variables for all follow-up visits: if all are 0, it refers to the screening visit; if <em>visit1</em> = 1, the others should all be 0 and this refers to Follow-up Visit 1.</p>
<p>The interaction shows the expected difference in the effect of the N-th visit(compared to the screening) for TSC participants versus EUC participants. For example, <strong>factor(study_arm)TSC:factor(visit)1</strong> means <em>visit1</em> = 1 and <em>TSC</em> = 1, which compares the VAS of the TSC arm on the first follow-up visit with that of the EUC arm. If it is the screening visit or in EUC arm, all the interaction portions will be zero.</p>
<p>The intercept, is the average VAS of screening visit in EUC arm.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>fcf_i <span class="ot">=</span> fcf_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(qolie)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id, study_arm, <span class="at">visit =</span> redcap_repeat_instance, qolie, <span class="at">age =</span> agefu, gender, city) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">ifelse</span>(gender <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Female"</span>, <span class="st">"Male"</span>), <span class="at">visit =</span> <span class="fu">as.numeric</span>(visit)) <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>(bs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(qolie_48_1117_v0_complete <span class="sc">==</span> <span class="st">"2"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">record_id =</span> unique_id, study_arm, <span class="at">qolie =</span> vas_qolie_48, age, gender, city) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit =</span> <span class="dv">0</span>))</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(qolie <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(visit), fcf_i))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = qolie ~ factor(study_arm) * factor(visit), data = fcf_i)

Residuals:
    Min      1Q  Median      3Q     Max 
-81.839 -11.000   1.132  11.548  49.436 

Coefficients:
                                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                            48.564      1.238  39.241  &lt; 2e-16 ***
factor(study_arm)TSC                    3.804      1.694   2.245 0.024793 *  
factor(visit)1                          5.077      1.398   3.632 0.000282 ***
factor(visit)2                          8.037      1.397   5.752 9.02e-09 ***
factor(visit)3                         12.436      1.398   8.893  &lt; 2e-16 ***
factor(visit)4                         15.304      1.400  10.933  &lt; 2e-16 ***
factor(visit)5                         19.993      1.398  14.303  &lt; 2e-16 ***
factor(visit)6                         22.857      1.393  16.412  &lt; 2e-16 ***
factor(visit)7                         26.146      1.393  18.769  &lt; 2e-16 ***
factor(visit)8                         29.753      1.390  21.405  &lt; 2e-16 ***
factor(visit)9                         30.002      1.391  21.575  &lt; 2e-16 ***
factor(visit)10                        30.999      1.390  22.298  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)1     2.524      1.919   1.315 0.188444    
factor(study_arm)TSC:factor(visit)2     5.455      1.922   2.838 0.004550 ** 
factor(study_arm)TSC:factor(visit)3     4.445      1.926   2.307 0.021049 *  
factor(study_arm)TSC:factor(visit)4     6.035      1.925   3.135 0.001722 ** 
factor(study_arm)TSC:factor(visit)5     4.110      1.923   2.136 0.032656 *  
factor(study_arm)TSC:factor(visit)6     5.199      1.917   2.712 0.006691 ** 
factor(study_arm)TSC:factor(visit)7     5.080      1.914   2.654 0.007965 ** 
factor(study_arm)TSC:factor(visit)8     5.718      1.911   2.993 0.002771 ** 
factor(study_arm)TSC:factor(visit)9     6.082      1.912   3.181 0.001470 ** 
factor(study_arm)TSC:factor(visit)10    6.727      1.912   3.518 0.000436 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 16.97 on 14640 degrees of freedom
Multiple R-squared:  0.2942,    Adjusted R-squared:  0.2932 
F-statistic: 290.6 on 21 and 14640 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interaction.plot</span>(<span class="at">x.factor =</span> fcf_i<span class="sc">$</span>visit, <span class="co">#x-axis variable</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.factor =</span> fcf_i<span class="sc">$</span>study_arm, <span class="co">#variable for lines</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">response =</span> fcf_i<span class="sc">$</span>qolie, <span class="co">#y-axis variable</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fun =</span> mean, <span class="co">#metric to plot</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fixed =</span> <span class="cn">TRUE</span>, </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ylab =</span> <span class="st">"QOLIE Score (marginal mean)"</span>,</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xlab =</span> <span class="st">"Follow-up Visits"</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"pink"</span>, <span class="st">"blue"</span>),</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lty =</span> <span class="dv">1</span>, <span class="co">#line type</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co">#line width</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.label =</span> <span class="st">"Study Arm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/lm-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The linear model formula is:</p>
<p><span class="math display">\[VAS = 48.5638298 + 3.8036121 *TSC + 5.0769327 *Visit_1 + 8.0370474 *Visit_2 + 12.4361702 * Visit_3 + 15.3039265 *Visit_4 + 19.993355 * Visit_5 \\
+ 22.8568501 *Visit_6 + 26.1463975 * Visit_7 + 29.7532773 * Visit_8 + 30.0018127 * Visit_9 + 30.9988443 * Visit_{10} \\
+ 2.5244179  * TSC * Visit_1 + 5.4552583 * TSC * Visit_2 + 4.4445842 * TSC * Visit_3 + 6.0348463 * TSC * Visit_4 + 4.1095422 * TSC * Visit_5 \\
+ 5.1993669 * TSC * Visit_6 + 5.0802862 * TSC * Visit_7 + 5.718331 * TSC * Visit_8 + 6.0822727 * TSC * Visit_9 + 6.7270472 * TSC * Visit_{10} \]</span></p>
<p><strong>the number of * shows the level of significance. Here, from the interaction parts, we can find the score of TSC is significantly higher than EUC for every visit.</strong></p>
<p><strong>For the screening visit, the score of TSC is 3.804 higher than the EUC(p = 0.02 shows significant group difference in the popularity). The difference expands over the visits</strong></p>
</section>
<section id="age-as-covariant" class="level4">
<h4 class="anchored" data-anchor-id="age-as-covariant">Age as covariant</h4>
<p>As it cost 2 years for the whole process, the kids may have improved VAS just due to the increasing age, while age is not a element of our research interestâ€“ thatâ€™s why we add age as a covariant.</p>
<p>To highlight the age, here we use residuals of VAS after excluding the age effect, rather than just add age into the model.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(qolie <span class="sc">~</span> age, fcf_i))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = qolie ~ age, data = fcf_i)

Residuals:
    Min      1Q  Median      3Q     Max 
-73.511 -21.140   2.607  16.354  29.535 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 70.19530    0.43083 162.929  &lt; 2e-16 ***
age          0.19280    0.03716   5.189 2.15e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 20.18 on 14068 degrees of freedom
  (592 observations deleted due to missingness)
Multiple R-squared:  0.00191,   Adjusted R-squared:  0.001839 
F-statistic: 26.92 on 1 and 14068 DF,  p-value: 2.147e-07</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>fcf_a <span class="ot">=</span> <span class="fu">bind_cols</span>(fcf_i <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(age)), <span class="fu">residuals</span>(<span class="fu">lm</span>(qolie <span class="sc">~</span> age, fcf_i)))</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(fcf_a)[<span class="dv">8</span>] <span class="ot">=</span> <span class="st">"age_residual"</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(age_residual <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(visit), fcf_a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = age_residual ~ factor(study_arm) * factor(visit), 
    data = fcf_a)

Residuals:
    Min      1Q  Median      3Q     Max 
-82.981 -11.134   0.767  12.045  49.687 

Coefficients:
                                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                           -24.331      1.245 -19.549  &lt; 2e-16 ***
factor(study_arm)TSC                    3.760      1.704   2.207 0.027346 *  
factor(visit)1                          5.890      1.406   4.190 2.81e-05 ***
factor(visit)2                          8.841      1.405   6.292 3.23e-10 ***
factor(visit)3                         13.230      1.406   9.407  &lt; 2e-16 ***
factor(visit)4                         16.069      1.408  11.415  &lt; 2e-16 ***
factor(visit)5                         20.729      1.406  14.746  &lt; 2e-16 ***
factor(visit)6                         23.547      1.401  16.813  &lt; 2e-16 ***
factor(visit)7                         26.783      1.402  19.107  &lt; 2e-16 ***
factor(visit)8                         30.406      1.399  21.736  &lt; 2e-16 ***
factor(visit)9                         30.558      1.406  21.735  &lt; 2e-16 ***
factor(visit)10                        31.010      1.461  21.229  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)1     2.518      1.930   1.305 0.191991    
factor(study_arm)TSC:factor(visit)2     5.448      1.933   2.818 0.004840 ** 
factor(study_arm)TSC:factor(visit)3     4.424      1.937   2.284 0.022388 *  
factor(study_arm)TSC:factor(visit)4     6.022      1.936   3.111 0.001868 ** 
factor(study_arm)TSC:factor(visit)5     4.110      1.934   2.125 0.033617 *  
factor(study_arm)TSC:factor(visit)6     5.166      1.928   2.680 0.007377 ** 
factor(study_arm)TSC:factor(visit)7     5.131      1.926   2.664 0.007741 ** 
factor(study_arm)TSC:factor(visit)8     5.634      1.923   2.930 0.003400 ** 
factor(study_arm)TSC:factor(visit)9     6.017      1.934   3.112 0.001863 ** 
factor(study_arm)TSC:factor(visit)10    7.778      2.026   3.839 0.000124 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 17.06 on 14048 degrees of freedom
Multiple R-squared:  0.2858,    Adjusted R-squared:  0.2848 
F-statistic: 267.8 on 21 and 14048 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interaction.plot</span>(<span class="at">x.factor =</span> fcf_a<span class="sc">$</span>visit, <span class="co">#x-axis variable</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.factor =</span> fcf_a<span class="sc">$</span>study_arm, <span class="co">#variable for lines</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">response =</span> <span class="fl">69.57732</span> <span class="sc">+</span> fcf_a<span class="sc">$</span>age_residual, <span class="co">#y-axis variable</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fun =</span> mean, <span class="co">#metric to plot</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fixed =</span> <span class="cn">TRUE</span>, </span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ylab =</span> <span class="st">"the QOLIE Score excluded the covariance effect of age"</span>,</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xlab =</span> <span class="st">"Follow-up Visits"</span>,</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"pink"</span>, <span class="st">"blue"</span>),</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lty =</span> <span class="dv">1</span>, <span class="co">#line type</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co">#line width</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.label =</span> <span class="st">"Study Arm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/age-lm-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>age plays a role to interpret the increasing tendency of VAS over 10 visits, but the Task-shift treatment still have better effects than the the control group proved to be significant from the interaction estimates.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(qolie <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(visit) <span class="sc">+</span> <span class="fu">factor</span>(gender), fcf_i))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = qolie ~ factor(study_arm) * factor(visit) + factor(gender), 
    data = fcf_i)

Residuals:
    Min      1Q  Median      3Q     Max 
-81.846 -10.989   1.144  11.560  49.430 

Coefficients:
                                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                           48.5517     1.2523  38.772  &lt; 2e-16 ***
factor(study_arm)TSC                   3.8032     1.6945   2.244 0.024817 *  
factor(visit)1                         5.0774     1.3979   3.632 0.000282 ***
factor(visit)2                         8.0375     1.3974   5.752 9.01e-09 ***
factor(visit)3                        12.4368     1.3985   8.893  &lt; 2e-16 ***
factor(visit)4                        15.3044     1.3999  10.933  &lt; 2e-16 ***
factor(visit)5                        19.9937     1.3979  14.303  &lt; 2e-16 ***
factor(visit)6                        22.8573     1.3927  16.412  &lt; 2e-16 ***
factor(visit)7                        26.1469     1.3931  18.768  &lt; 2e-16 ***
factor(visit)8                        29.7537     1.3901  21.404  &lt; 2e-16 ***
factor(visit)9                        30.0023     1.3907  21.574  &lt; 2e-16 ***
factor(visit)10                       30.9993     1.3903  22.297  &lt; 2e-16 ***
factor(gender)Male                     0.0185     0.2916   0.063 0.949403    
factor(study_arm)TSC:factor(visit)1    2.5246     1.9194   1.315 0.188429    
factor(study_arm)TSC:factor(visit)2    5.4554     1.9225   2.838 0.004551 ** 
factor(study_arm)TSC:factor(visit)3    4.4447     1.9263   2.307 0.021051 *  
factor(study_arm)TSC:factor(visit)4    6.0351     1.9250   3.135 0.001721 ** 
factor(study_arm)TSC:factor(visit)5    4.1097     1.9236   2.137 0.032654 *  
factor(study_arm)TSC:factor(visit)6    5.1997     1.9171   2.712 0.006690 ** 
factor(study_arm)TSC:factor(visit)7    5.0805     1.9143   2.654 0.007964 ** 
factor(study_arm)TSC:factor(visit)8    5.7185     1.9109   2.993 0.002771 ** 
factor(study_arm)TSC:factor(visit)9    6.0824     1.9120   3.181 0.001470 ** 
factor(study_arm)TSC:factor(visit)10   6.7271     1.9121   3.518 0.000436 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 16.97 on 14639 degrees of freedom
Multiple R-squared:  0.2942,    Adjusted R-squared:  0.2931 
F-statistic: 277.4 on 22 and 14639 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There is no difference between the genders. "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There is no difference between the genders. </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(qolie <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(visit) <span class="sc">+</span> <span class="fu">factor</span>(city), fcf_i))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = qolie ~ factor(study_arm) * factor(visit) + factor(city), 
    data = fcf_i)

Residuals:
    Min      1Q  Median      3Q     Max 
-80.658 -10.740   0.148  12.039  50.571 

Coefficients:
                                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                           53.0102     1.2484  42.461  &lt; 2e-16 ***
factor(study_arm)TSC                   3.7995     1.6757   2.267 0.023381 *  
factor(visit)1                         5.2793     1.3824   3.819 0.000135 ***
factor(visit)2                         8.2531     1.3820   5.972  2.4e-09 ***
factor(visit)3                        12.6482     1.3831   9.145  &lt; 2e-16 ***
factor(visit)4                        15.4744     1.3844  11.178  &lt; 2e-16 ***
factor(visit)5                        20.1247     1.3824  14.558  &lt; 2e-16 ***
factor(visit)6                        23.0330     1.3773  16.723  &lt; 2e-16 ***
factor(visit)7                        26.3171     1.3778  19.101  &lt; 2e-16 ***
factor(visit)8                        29.9403     1.3747  21.779  &lt; 2e-16 ***
factor(visit)9                        30.1900     1.3753  21.951  &lt; 2e-16 ***
factor(visit)10                       31.1832     1.3749  22.680  &lt; 2e-16 ***
factor(city)Kano                      -5.5807     0.3457 -16.145  &lt; 2e-16 ***
factor(city)Zaria                     -6.5236     0.3994 -16.333  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)1    2.2797     1.8983   1.201 0.229796    
factor(study_arm)TSC:factor(visit)2    5.2106     1.9013   2.741 0.006142 ** 
factor(study_arm)TSC:factor(visit)3    4.2239     1.9051   2.217 0.026629 *  
factor(study_arm)TSC:factor(visit)4    5.8167     1.9039   3.055 0.002253 ** 
factor(study_arm)TSC:factor(visit)5    3.8950     1.9024   2.047 0.040636 *  
factor(study_arm)TSC:factor(visit)6    5.0094     1.8959   2.642 0.008246 ** 
factor(study_arm)TSC:factor(visit)7    4.8576     1.8932   2.566 0.010303 *  
factor(study_arm)TSC:factor(visit)8    5.4886     1.8898   2.904 0.003687 ** 
factor(study_arm)TSC:factor(visit)9    5.8484     1.8909   3.093 0.001986 ** 
factor(study_arm)TSC:factor(visit)10   6.5283     1.8910   3.452 0.000557 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 16.78 on 14638 degrees of freedom
Multiple R-squared:  0.3098,    Adjusted R-squared:  0.3087 
F-statistic: 285.6 on 23 and 14638 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"As for the cities, Keduna &gt; Kano &gt; Zaria"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>As for the cities, Keduna &gt; Kano &gt; Zaria</code></pre>
</div>
</div>
<p>As city is one of the variable of our interest, we include it into the linear model and find that participants in different cities will have significantly different average VAS.</p>
</section>
</section>
</section>
</section>
<section id="comparison-between-vas-and-qolie" class="level1">
<h1>Comparison between VAS and QOLIE</h1>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>data_qolie <span class="ot">=</span> qinfo <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit =</span> <span class="fu">ifelse</span>(order <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">3</span>, <span class="fu">ifelse</span>(order <span class="sc">==</span> <span class="dv">3</span>, <span class="dv">10</span>, <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(study_arm, visit) <span class="sc">%&gt;%</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(<span class="at">qolie =</span> <span class="fu">mean</span>(score), <span class="at">qolie_sd =</span> <span class="fu">sd</span>(score))</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>fcf_i <span class="sc">%&gt;%</span> </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm, visit) <span class="sc">%&gt;%</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">vas =</span> <span class="fu">mean</span>(qolie), <span class="at">vas_sd =</span> <span class="fu">sd</span>(qolie)) <span class="sc">%&gt;%</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> visit, <span class="at">y =</span> vas, <span class="at">color =</span> study_arm)) <span class="sc">+</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_errorbar(aes(ymin = vas - vas_sd, ymax = vas + vas_sd), width = .2) +</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> data_qolie, </span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> visit, <span class="at">y =</span> qolie, <span class="at">color =</span> study_arm), <span class="at">linetype =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> data_qolie, </span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> visit, <span class="at">y =</span> qolie, <span class="at">color =</span> study_arm)) <span class="sc">+</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_errorbar(data = data_qolie, aes(ymin = qolie - qolie_sd, ymax = qolie + qolie_sd), width = .2) +</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"quality of life score (0 - 100)"</span>) <span class="sc">+</span></span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">10</span>) <span class="sc">+</span> </span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">1</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">73</span>, <span class="at">label =</span> <span class="st">"VAS"</span>) <span class="sc">+</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">5</span>, <span class="at">y =</span> <span class="dv">54</span>, <span class="at">label =</span> <span class="st">"QOLIE"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/fig-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="do">## should the x-axis to be months instead of visits?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The two measures had similar tendency but the two arms of VAS had significance difference between them while QOLIE didnâ€™t. As QOLIE-AD-48 and QOLIE-31 are longer questionnaires compared to one-question VAS, they might be more difficult for the patients to fill in, which led to a narrower result.</p>
</section>
<section id="cost" class="level1">
<h1>Cost</h1>
<p>see the excel sheet. Right now use the avg unit cost for each yr. May need to consider the inflation and discounting.</p>
</section>
<section id="daly" class="level1">
<h1>DALY</h1>
<section id="age-of-onset-of-disease" class="level2">
<h2 class="anchored" data-anchor-id="age-of-onset-of-disease">age of onset of disease</h2>
<p><em>What was the age of the child when the first seizure happened?</em></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bs %&gt;% filter(!is.na(onset_age)) %&gt;% select(id = unique_id, study_arm, onset_age) %&gt;% filter(!is.na(id)) %&gt;% </span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable(caption = "Onset age is submitted in text") %&gt;%</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable_styling() %&gt;% </span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   scroll_box()</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>onsetAge <span class="ot">=</span> bs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(onset_age)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">id =</span> unique_id, study_arm, onset_age, age, dob, gender) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">onset_age =</span> <span class="fu">str_replace</span>(onset_age, <span class="st">" and half"</span>, <span class="st">".5"</span>), <span class="at">onset_age =</span> <span class="fu">str_replace</span>(onset_age, <span class="st">"and half"</span>, <span class="st">".5"</span>), <span class="at">onset_age =</span>  <span class="fu">str_replace_all</span>(onset_age, <span class="fu">c</span>(<span class="st">"one"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"first"</span> <span class="ot">=</span> <span class="st">"1"</span>,<span class="st">"First"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"A "</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"I"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"One"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"two"</span> <span class="ot">=</span> <span class="st">"2"</span>, <span class="st">"Two"</span> <span class="ot">=</span> <span class="st">"2"</span>, <span class="st">"second"</span> <span class="ot">=</span> <span class="st">"2"</span>, <span class="st">"three"</span> <span class="ot">=</span> <span class="st">"3"</span>, <span class="st">"Three"</span> <span class="ot">=</span> <span class="st">"3"</span>, <span class="st">"third"</span> <span class="ot">=</span> <span class="st">"3"</span>, <span class="st">"four"</span> <span class="ot">=</span> <span class="st">"4"</span>, <span class="st">"five"</span> <span class="ot">=</span> <span class="st">"5"</span>, <span class="st">"six"</span> <span class="ot">=</span> <span class="st">"6"</span>,<span class="st">"Six"</span> <span class="ot">=</span> <span class="st">"6"</span>, <span class="st">"seven"</span> <span class="ot">=</span> <span class="st">"7"</span>, <span class="st">"eight"</span> <span class="ot">=</span> <span class="st">"8"</span>, <span class="st">"nine"</span> <span class="ot">=</span> <span class="st">"9"</span>, <span class="st">"ten"</span> <span class="ot">=</span> <span class="st">"10"</span>, <span class="st">"birth"</span> <span class="ot">=</span> <span class="st">"0"</span>, <span class="st">"born"</span> <span class="ot">=</span> <span class="st">"0"</span>, <span class="st">"At birht"</span> <span class="ot">=</span> <span class="st">"0"</span>, <span class="st">"After Brith"</span> <span class="ot">=</span> <span class="st">"0"</span>, <span class="st">"2019"</span> <span class="ot">=</span> <span class="st">"2"</span>, <span class="st">"November 2014"</span> <span class="ot">=</span> <span class="st">"4"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">onset =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"Last month"</span>), <span class="fu">round</span>(age <span class="sc">-</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span>), <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"d"</span>)<span class="sc">|</span><span class="fu">str_detect</span>(onset_age, <span class="st">"D"</span>), <span class="fu">round</span>(<span class="fu">parse_number</span>(onset_age)<span class="sc">/</span><span class="fl">365.25</span>), <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"y"</span>) <span class="sc">&amp;</span> (<span class="fu">str_detect</span>(onset_age, <span class="st">"(6|8)( |)m"</span>)), <span class="fu">round</span>(<span class="fu">parse_number</span>(onset_age) <span class="sc">+</span> <span class="dv">1</span>), <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"y"</span>)<span class="sc">|</span><span class="fu">str_detect</span>(onset_age, <span class="st">"Y"</span>), <span class="fu">round</span>(<span class="fu">parse_number</span>(onset_age)), <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"m"</span>)<span class="sc">|</span><span class="fu">str_detect</span>(onset_age, <span class="st">"M"</span>), <span class="fu">round</span>(<span class="fu">parse_number</span>(onset_age)<span class="sc">/</span><span class="dv">12</span>), <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(onset_age, <span class="st">"w"</span>)<span class="sc">|</span><span class="fu">str_detect</span>(onset_age, <span class="st">"W"</span>), <span class="fu">round</span>(<span class="fu">parse_number</span>(onset_age)<span class="sc">/</span><span class="dv">52</span>), <span class="fu">parse_number</span>(onset_age))))))))</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>onsetAge <span class="sc">%&gt;%</span> </span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(onset)) <span class="sc">%&gt;%</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm, gender) <span class="sc">%&gt;%</span> </span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">meanOnsetAge =</span> <span class="fu">mean</span>(onset), <span class="at">sdOnsetAge =</span> <span class="fu">sd</span>(onset))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 4
# Groups:   study_arm [2]
  study_arm gender meanOnsetAge sdOnsetAge
  &lt;chr&gt;     &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;
1 EUC       Female         3.40       3.39
2 EUC       Male           3.26       3.51
3 TSC       Female         3.13       3.33
4 TSC       Male           3.75       3.53</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>onsetAge <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> onset)) <span class="sc">+</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(study_arm <span class="sc">~</span> gender) <span class="sc">+</span> </span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_bin</span>(<span class="at">binwidth=</span><span class="dv">1</span>, <span class="at">geom=</span><span class="st">"text"</span>, <span class="fu">aes</span>(<span class="at">label=</span>..count..), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Age (in years)"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Freq"</span>) <span class="sc">+</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Onset Age Distribution for 2 arms"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/onset-age-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="severity" class="level2">
<h2 class="anchored" data-anchor-id="severity">severity</h2>
<p>we can use the frequency to get the severity.</p>
<p>severe epilepsy, defined as an average seizure frequency of more than or equal to once per month; less severe epilepsy with a seizure frequency of less than once a month, or no seizures in the past year while untreated but still fulfilling the criteria of active epilepsy; and seizure-free, treated epilepsy, defined as not having seizures in the past year while on treatment.</p>
<p><strong>The only question is that all the patients in our researsh should be considered as under treatment if they have less severe epilepsy.</strong></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co">#melt</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>preInterval <span class="ot">=</span> <span class="fu">cbind</span>(fudw[<span class="st">'record_id'</span>], <span class="fu">stack</span>(fudw[<span class="fu">c</span>(<span class="st">"d01"</span>,<span class="st">"d12"</span>, <span class="st">"d23"</span>, <span class="st">"d34"</span>, <span class="st">"d45"</span>, <span class="st">"d56"</span>, <span class="st">"d67"</span>, <span class="st">"d78"</span>, <span class="st">"d89"</span>, <span class="st">"d90"</span>)])) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit =</span> <span class="fu">ifelse</span>(ind <span class="sc">==</span> <span class="st">"d90"</span>, <span class="dv">10</span>, <span class="fu">as.numeric</span>(ind[<span class="sc">-</span><span class="dv">1</span>]))) <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id, visit, <span class="at">interval =</span> values)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>seizure_tsc <span class="ot">=</span> fcf_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(expseiz) <span class="sc">&amp;</span> study_arm <span class="sc">==</span> <span class="st">"TSC"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">seiz_times =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(how_many_seiz_v2), <span class="dv">0</span>, how_many_seiz_v2)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit =</span> <span class="fu">as.numeric</span>(redcap_repeat_instance)) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(preInterval, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"record_id"</span>, <span class="st">"visit"</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">seiz_freq =</span> <span class="fl">365.25</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">*</span> seiz_times <span class="sc">/</span> interval)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>seizure_euc <span class="ot">=</span> fcf_c <span class="sc">%&gt;%</span> <span class="fu">filter</span>(seize_since_last_euc_v2 <span class="sc">!=</span> <span class="dv">2</span> <span class="sc">&amp;</span> study_arm <span class="sc">==</span> <span class="st">"EUC"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">seiz_times =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(number_seiz), <span class="dv">0</span>, number_seiz)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">visit =</span> <span class="fu">as.numeric</span>(redcap_repeat_instance)) <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(preInterval, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"record_id"</span>, <span class="st">"visit"</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">seiz_freq =</span> <span class="fl">365.25</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">*</span> seiz_times <span class="sc">/</span> interval)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>seizure_times <span class="ot">=</span> <span class="fu">rbind</span>(seizure_tsc, seizure_euc) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(seiz_freq) <span class="sc">&amp;</span> seiz_freq <span class="sc">!=</span> <span class="cn">Inf</span>)</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(seiz_freq <span class="sc">~</span> <span class="fu">factor</span>(study_arm)<span class="sc">*</span><span class="fu">factor</span>(visit) <span class="sc">+</span> agefu <span class="sc">+</span> <span class="fu">factor</span>(gender) <span class="sc">+</span> <span class="fu">factor</span>(city), seizure_times))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = seiz_freq ~ factor(study_arm) * factor(visit) + 
    agefu + factor(gender) + factor(city), data = seizure_times)

Residuals:
    Min      1Q  Median      3Q     Max 
-53.231  -1.237  -0.439   0.310 292.816 

Coefficients:
                                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                           10.21131    0.30781  33.174  &lt; 2e-16 ***
factor(study_arm)TSC                  -4.34169    0.35074 -12.379  &lt; 2e-16 ***
factor(visit)2                        -7.13917    0.35832 -19.924  &lt; 2e-16 ***
factor(visit)3                        -8.23978    0.35901 -22.952  &lt; 2e-16 ***
factor(visit)4                        -9.30574    0.35983 -25.861  &lt; 2e-16 ***
factor(visit)5                        -9.34975    0.35717 -26.177  &lt; 2e-16 ***
factor(visit)6                        -9.83982    0.35443 -27.763  &lt; 2e-16 ***
factor(visit)7                        -9.86135    0.35510 -27.770  &lt; 2e-16 ***
factor(visit)8                        -9.87230    0.35350 -27.927  &lt; 2e-16 ***
factor(visit)9                        -9.79415    0.35833 -27.333  &lt; 2e-16 ***
factor(visit)10                      -10.24561    0.39000 -26.270  &lt; 2e-16 ***
agefu                                 -0.03854    0.01243  -3.102  0.00193 ** 
factor(gender)2                        0.12382    0.11755   1.053  0.29222    
factor(city)Kano                       0.62648    0.14410   4.348 1.39e-05 ***
factor(city)Zaria                      1.25123    0.16495   7.585 3.53e-14 ***
factor(study_arm)TSC:factor(visit)2    3.84985    0.49874   7.719 1.25e-14 ***
factor(study_arm)TSC:factor(visit)3    4.03640    0.50091   8.058 8.39e-16 ***
factor(study_arm)TSC:factor(visit)4    4.28884    0.50008   8.576  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)5    4.20612    0.49825   8.442  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)6    4.26441    0.49453   8.623  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)7    4.23470    0.49343   8.582  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)8    4.14546    0.49172   8.431  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)9    4.10195    0.49820   8.234  &lt; 2e-16 ***
factor(study_arm)TSC:factor(visit)10   4.12469    0.55031   7.495 7.03e-14 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.595 on 13596 degrees of freedom
  (592 observations deleted due to missingness)
Multiple R-squared:  0.1245,    Adjusted R-squared:  0.123 
F-statistic: 84.04 on 23 and 13596 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interaction.plot</span>(<span class="at">x.factor =</span> seizure_times<span class="sc">$</span>visit, <span class="co">#x-axis variable</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.factor =</span> seizure_times<span class="sc">$</span>study_arm, <span class="co">#variable for lines</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">response =</span> seizure_times<span class="sc">$</span>seiz_freq, <span class="co">#y-axis variable</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fun =</span> mean, <span class="co">#metric to plot</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ylab =</span> <span class="st">"frequency of seizures (times per month)"</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xlab =</span> <span class="st">"Visit"</span>,</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"pink"</span>, <span class="st">"blue"</span>),</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lty =</span> <span class="dv">1</span>, <span class="co">#line type</span></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co">#line width</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trace.label =</span> <span class="st">"Study Arm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/seizure-times-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>seizure_times <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> seiz_freq)) <span class="sc">+</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(study_arm <span class="sc">~</span> .) <span class="sc">+</span> </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="bridge_brief_files/figure-html/seizure-times-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to get the decrease of DALY, we need to get the beginning DALY and final DALY for 2 arms</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>pct_severe <span class="ot">=</span> seizure_times <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">severity =</span> <span class="fu">ifelse</span>(seiz_freq <span class="sc">&gt;=</span> <span class="dv">1</span>, <span class="st">"severe epilepsy"</span>, <span class="st">"others"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm, visit) <span class="sc">%&gt;%</span> <span class="fu">count</span>(severity) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pct =</span> <span class="fu">percent</span>(n <span class="sc">/</span> <span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(severity <span class="sc">==</span> <span class="st">"severe epilepsy"</span>) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span>(visit,n, pct) </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>pct_severe <span class="sc">%&gt;%</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption=</span><span class="st">"percent of severe epilepsy in 2 arms among 10 visits"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"EUC"</span>,<span class="dv">1</span>,<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack_rows</span>(<span class="st">"TSC"</span>,<span class="dv">11</span>,<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>percent of severe epilepsy in 2 arms among 10 visits</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> visit </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:left;"> pct </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="10"><td colspan="3" style="border-bottom: 1px solid;"><strong>EUC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 378 </td>
   <td style="text-align:left;"> 56% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 373 </td>
   <td style="text-align:left;"> 55% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 354 </td>
   <td style="text-align:left;"> 52.9% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 4 </td>
   <td style="text-align:right;"> 268 </td>
   <td style="text-align:left;"> 40% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 5 </td>
   <td style="text-align:right;"> 267 </td>
   <td style="text-align:left;"> 39% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 6 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:left;"> 23% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 7 </td>
   <td style="text-align:right;"> 158 </td>
   <td style="text-align:left;"> 22% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 8 </td>
   <td style="text-align:right;"> 139 </td>
   <td style="text-align:left;"> 19% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 9 </td>
   <td style="text-align:right;"> 149 </td>
   <td style="text-align:left;"> 21% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 10 </td>
   <td style="text-align:right;"> 68 </td>
   <td style="text-align:left;"> 9% </td>
  </tr>
  <tr grouplength="10"><td colspan="3" style="border-bottom: 1px solid;"><strong>TSC</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 1 </td>
   <td style="text-align:right;"> 313 </td>
   <td style="text-align:left;"> 43% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 2 </td>
   <td style="text-align:right;"> 372 </td>
   <td style="text-align:left;"> 52.4% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 3 </td>
   <td style="text-align:right;"> 331 </td>
   <td style="text-align:left;"> 47.9% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 4 </td>
   <td style="text-align:right;"> 270 </td>
   <td style="text-align:left;"> 38% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 5 </td>
   <td style="text-align:right;"> 239 </td>
   <td style="text-align:left;"> 34% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 6 </td>
   <td style="text-align:right;"> 152 </td>
   <td style="text-align:left;"> 21% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 7 </td>
   <td style="text-align:right;"> 118 </td>
   <td style="text-align:left;"> 16% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 8 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:left;"> 12% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 9 </td>
   <td style="text-align:right;"> 111 </td>
   <td style="text-align:left;"> 15% </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 10 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:left;"> 3% </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cat("set limits for outliners: [Q1-1.5*IQR, Q3+1.5*IQR]")</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # delete outliners</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="co"># quartiles &lt;- quantile(seizure_times$seiz_freq, probs=c(.25, .75), na.rm = FALSE)</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="co"># IQR &lt;- IQR(seizure_times$seiz_freq)</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Lower &lt;- quartiles[1] - 1.5*IQR</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Upper &lt;- quartiles[2] + 1.5*IQR </span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="co"># seizure_times %&gt;% filter(seiz_freq &gt; Lower &amp; seiz_freq &lt; Upper) %&gt;% mutate(severity = ifelse(seiz_freq &gt;= 1, "severe epilepsy", "seizure-free, treated epilepsy")) %&gt;%</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(study_arm, visit = redcap_repeat_instance) %&gt;% count(severity) %&gt;% mutate(pct = percent(n / sum(n))) %&gt;% ungroup() %&gt;%select(-study_arm) %&gt;% </span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable(caption="percent of epilepsy classes in 2 arms among 10 visits without outliners") %&gt;% </span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable_styling(full_width = F, bootstrap_options = c("striped", "hover")) %&gt;%</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   pack_rows("EUC",1,20) %&gt;%</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   pack_rows("TSC",21,40)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As the intervals between screening and follow up visit 1 is not as scheduled stably as intervals between visits, we may use the reported seizure frequency in the Follow up visit 2(the 2th in the plot) as the baseline.</p>
</section>
<section id="calculation-of-daly" class="level2">
<h2 class="anchored" data-anchor-id="calculation-of-daly">Calculation of DALY</h2>
<p>severe epilepsy, defined as an average seizure frequency of more than or equal to once per month;<br>
less severe epilepsy with a seizure frequency of less than once a month, or no seizures in the past year while untreated but still fulfilling the criteria of active epilepsy;<br>
and seizure-free, treated epilepsy, defined as not having seizures in the past year while on treatment.</p>
<p>if seiz_freq = 0 from visit 1 - 7 or 2/3 - 9 or 5 - 9 or 7 - 10, later can be regarded as seizure-free as far as no seizure happened.</p>
<p>Disability Weight (Essential for the YLDs) â€“</p>
<ul>
<li><p>Severe epilepsy: 0.552</p></li>
<li><p>Less epilepsy: 0.263</p></li>
<li><p>seizure-free, treated epilepsy: 0.049</p></li>
</ul>
<p>So we can get the difference between 2 arms.</p>
<p>For the YLLs part, we can use YLLs or mortality from GBD. However, as GBD only have the epilepsy category (not detailed), the 2 arms should be the same â€“ if we donâ€™t consider some of them recovered at the end.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pct_seizure_free = seizure_times %&gt;% filter(seiz_freq == 0) %&gt;% count(record_id, visit, study_arm) %&gt;% spread(visit, n, fill = 0, sep = "") %&gt;%</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     zero_0_12 = ifelse(visit1 == 1 &amp; visit2 == 1 &amp; visit3 == 1 &amp; visit4 == 1 &amp; visit5 == 1 &amp; visit6 == 1 &amp; visit7 == 1, TRUE, FALSE),</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     zero_3_15 = ifelse(visit3 == 1 &amp; visit4 == 1 &amp; visit5 == 1 &amp; visit6 == 1 &amp; visit7 == 1 &amp; visit8 == 1, TRUE, FALSE),</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     zero_6_18 = ifelse(visit5 == 1 &amp; visit6 == 1 &amp; visit7 == 1 &amp; visit8 == 1 &amp; visit9 == 1, TRUE, FALSE)) %&gt;%</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(free_12_15 = ifelse(zero_0_12 &amp; visit8 == 1, TRUE, FALSE),</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co">#          free_15_18 = ifelse(zero_3_15 &amp; visit9 == 1, TRUE, FALSE),</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co">#          free_18_24 = ifelse(zero_6_18 &amp; visit10 == 1, TRUE, FALSE))</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="co"># count how many NAs in each col</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="co"># sapply(severity, function(x) sum(is.na(x)))</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>severity <span class="ot">=</span> seizure_times <span class="sc">%&gt;%</span> <span class="fu">select</span>(record_id, visit, study_arm, seiz_freq) <span class="sc">%&gt;%</span> <span class="fu">spread</span>(visit, seiz_freq, <span class="at">sep =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">zero_0_12 =</span> <span class="fu">ifelse</span>(visit1 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit2 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit3 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit4 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit5 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit6 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit7 <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">zero_3_15 =</span> <span class="fu">ifelse</span>(visit3 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit4 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit5 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit6 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit7 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit8 <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">zero_6_18 =</span> <span class="fu">ifelse</span>(visit5 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit6 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit7 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit8 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> visit9 <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"visit"</span>), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">&gt;=</span> <span class="dv">1</span>, <span class="st">"severe epilepsy"</span>, <span class="st">"less severe epilepsy"</span>), <span class="at">.names =</span> <span class="st">"severity_{.col}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">severity_visit8 =</span> <span class="fu">ifelse</span>(zero_0_12 <span class="sc">&amp;</span> visit8 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"seizure-free, treated"</span>, severity_visit8),</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">severity_visit9 =</span> <span class="fu">ifelse</span>(zero_3_15 <span class="sc">&amp;</span> visit9 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"seizure-free, treated"</span>, severity_visit9),</span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">severity_visit10 =</span> <span class="fu">ifelse</span>(zero_6_18 <span class="sc">&amp;</span> visit10 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"seizure-free, treated"</span>, severity_visit9))</span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>severity_DALY <span class="ot">=</span> severity <span class="sc">%&gt;%</span> </span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"severity_visit"</span>), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">==</span> <span class="st">"severe epilepsy"</span>, <span class="fl">0.552</span>, <span class="fu">ifelse</span>(.x <span class="sc">==</span> <span class="st">"less severe epilepsy"</span>, <span class="fl">0.263</span>, <span class="fl">0.049</span>)), <span class="at">.names =</span> <span class="st">"DALYw_{.col}"</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>DALYw_severity_visit1) <span class="sc">%&gt;%</span></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DALY_2yr =</span> DALYw_severity_visit2 <span class="sc">*</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit3 <span class="sc">*</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit4 <span class="sc">*</span> <span class="dv">2</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit5 <span class="sc">*</span> <span class="dv">2</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit6 <span class="sc">*</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit7 <span class="sc">*</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit8 <span class="sc">*</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span>  DALYw_severity_visit9 <span class="sc">*</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">12</span> <span class="sc">+</span> DALYw_severity_visit10 <span class="sc">*</span> <span class="dv">6</span><span class="sc">/</span><span class="dv">12</span>)</span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>severity_DALY <span class="sc">%&gt;%</span></span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study_arm) <span class="sc">%&gt;%</span></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(DALY_2yr) <span class="sc">/</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã— 2
  study_arm `mean(DALY_2yr)/2`
  &lt;chr&gt;                  &lt;dbl&gt;
1 EUC                    0.323
2 TSC                    0.300</code></pre>
</div>
</div>
<p>incremental cost (in Naira) for TSC - EUC per patient = 3203.91(2-yr) / 2829.74(3-yr)</p>
<p>currency exchange rate in 2023: 490.4176 NGN</p>
<p>incremental -DALY <strong>yearly</strong> for TSC - EUC per patient = -0.29992 - (-0.32292) = 0.023</p>
<p><strong>ICER = 3203.91/(0.023*2*490.4176) = 142</strong></p>
<p>CEA threshold: 0.5 * GDPpc (2000 dollars in Nigeria) = 1000</p>
<section id="previous" class="level3">
<h3 class="anchored" data-anchor-id="previous">Previous</h3>
<p>DALY = YLL + YLD, while the kind and severity of disease will impact the disability weight for YLD.</p>
<p>The YLD can be computed based on factor of I&nbsp;Ã—&nbsp;DW&nbsp;Ã—&nbsp;L with uniform age weights and zero discounting, where, I represents the number of incident cases of childhood epilepsy in a reference period, DW is the disability weight (0â€“1), and L is the mean duration of disability (years) (<a href="https://www.sciencedirect.com/science/article/pii/S0920121116300699#bib0060">Murray and Lopez, 1996</a>).</p>
<p><strong>For severe epilepsy: 0.552; For seizure-free, treated epilepsy: 0.049 (GBD, 2016). â€”</strong> the severity of disability was weighted between 0 (perfect health) and 1 (equivalent to death).</p>
<p>For the population, the DALYs will be calculated by disease, country, gender, average age of onset, average age of death, incident cases and incident deaths. â€“ as the country and gender will determine the life expectancy at age of premature death.</p>
<p>Just for our dataset, it is impossible to gain the individual age of death. So we need to look for the average age of death for childhood epilepsy in Nigeria. â€“ As few literature in this region, it is hard to get.</p>
<p><strong>The first way</strong> is to use DALY from literature: 4.1 DALYs per 1000 individuals annually (Wagner, etc, 2015)[<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0145300" class="uri">https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0145300</a>] or 2.18 DALYs for children within the age group of 5-14 years(Ughasoro, etc, 2016) [<a href="https://www.sciencedirect.com/science/article/pii/S0920121116300699" class="uri">https://www.sciencedirect.com/science/article/pii/S0920121116300699</a>]</p>
<p>as both numbers use an average disability weight, it is difficult but able to infer the DALY for severe and seizure free conditions.</p>
<p>As our 2 arms have different percents of severity, we can calculate the DALYs for each group.</p>
<p><strong>The second way</strong> serves for the cost-effectiveness.</p>
<p>Incremental effectiveness = DALY_TSC - DALY_EUC = YLL_TSC + YLD_TSC - YLL_EUC - YLD_EUC</p>
<p>As the two arms we have almost the same onset age, and we will also use the same age of premature death for 2 arms, YLL_TSC = YLL_EUC</p>
<p>Incremental effectiveness = YLD_TSC - YLD_EUC ~ (Disability_weight_TSC - Disability_weight_EUC) * living_years</p>
<p><strong>Delete</strong>:If compare them <strong>annually per 1000 individuals,</strong> incremental effectiveness using DALY weight for each year for the same population size = <strong>(0.03 * 0.552 + 0.97 * 0.049) - (0.10 * 0.552 + 0.90 * 0.049) = -0.03521</strong></p>
<p>Although we canâ€™t get an exact DALY for each arm, the cost-effectiveness analysis is more precise.</p>
</section>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<section id="strengths" class="level2">
<h2 class="anchored" data-anchor-id="strengths">Strengths</h2>
<ol type="1">
<li>Thereâ€™s few early literature working on the childhood epilepsy in Nigeria</li>
<li>Itâ€™s a long-period treatment with 10 follow-up visits, which is a good chance to observe the development process</li>
</ol>
</section>
<section id="weakness" class="level2">
<h2 class="anchored" data-anchor-id="weakness">Weakness</h2>
<ol type="1">
<li>The records is not so complete: not all people complete the scale(especially the QOLIE) on the time and meeting the eligibility</li>
<li>Lots of assumptions has been made to clean the data</li>
</ol>
</section>
<section id="future-work" class="level2">
<h2 class="anchored" data-anchor-id="future-work">Future work</h2>
<p>Content of Aim 3 in the protocol:</p>
<p><strong>Determine the cost-effectiveness of the task-shifted epilepsy care intervention.</strong></p>
<p>Direct costs of the intervention and EUC will include personnel costs (including CHEW epilepsy training) and expenses for diagnostic (EEG, brain imaging) and laboratory tests and anti-epileptic drugs.</p>
<p>Indirect costs will include travel time and time away from work for parents/guardians and change in school attendance for patients.</p>
<p>Cost-effectiveness will be expressed as US dollars per disability adjusted life year (DALY) averted.</p>
<p>Half-way to find the effectiveness of TSC.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>